var Vn=Object.create;var Ft=Object.defineProperty;var Fn=Object.getOwnPropertyDescriptor;var Un=Object.getOwnPropertyNames;var Kn=Object.getPrototypeOf,Yn=Object.prototype.hasOwnProperty;var qn=(t,e,r)=>e in t?Ft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var zn=t=>Ft(t,"__esModule",{value:!0});var Gn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Xn=(t,e)=>{for(var r in e)Ft(t,r,{get:e[r],enumerable:!0})},Jn=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Un(e))!Yn.call(t,s)&&(r||s!=="default")&&Ft(t,s,{get:()=>e[s],enumerable:!(i=Fn(e,s))||i.enumerable});return t},Qn=(t,e)=>Jn(zn(Ft(t!=null?Vn(Kn(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Zi=(t,e,r)=>(qn(t,typeof e!="symbol"?e+"":e,r),r);var Nn=Gn((_r,ji)=>{(function(e,r){typeof _r=="object"&&typeof ji=="object"?ji.exports=r():typeof define=="function"&&define.amd?define("Centrifuge",[],r):typeof _r=="object"?_r.Centrifuge=r():e.Centrifuge=r()})(_r,function(){return function(){"use strict";var t={382:function(s,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.Centrifuge=void 0;var h=w(l(187)),_=w(l(471)),y=l(147),p=l(853);function w(m){return m&&m.__esModule?m:{default:m}}function A(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(g){return typeof g}:A=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},A(m)}function x(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}function C(m,d){for(var g=0;g<d.length;g++){var c=d[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(m,c.key,c)}}function T(m,d,g){return d&&C(m.prototype,d),g&&C(m,g),m}function R(m,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(d&&d.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),d&&B(m,d)}function B(m,d){return B=Object.setPrototypeOf||function(c,o){return c.__proto__=o,c},B(m,d)}function j(m){var d=M();return function(){var c=k(m),o;if(d){var n=k(this).constructor;o=Reflect.construct(c,arguments,n)}else o=c.apply(this,arguments);return W(this,o)}}function W(m,d){if(d&&(A(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(m)}function D(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(m){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},k(m)}var I="timeout",H="connection closed",v=function(m){R(g,m);var d=j(g);function g(c,o){var n;return x(this,g),n=d.call(this),n._url=c,n._websocket=null,n._sockjs=null,n._isSockjs=!1,n._xmlhttprequest=null,n._binary=!1,n._methodType=null,n._pushType=null,n._encoder=null,n._decoder=null,n._status="disconnected",n._reconnect=!0,n._reconnecting=!1,n._transport=null,n._transportName=null,n._transportClosed=!0,n._messageId=0,n._clientID=null,n._refreshRequired=!1,n._subs={},n._serverSubs={},n._lastSeq={},n._lastGen={},n._lastOffset={},n._lastEpoch={},n._messages=[],n._isBatching=!1,n._isSubscribeBatching=!1,n._privateChannels={},n._numRefreshFailed=0,n._refreshTimeout=null,n._pingTimeout=null,n._pongTimeout=null,n._subRefreshTimeouts={},n._retries=0,n._callbacks={},n._latency=null,n._latencyStart=null,n._connectData=null,n._token=null,n._xhrID=0,n._xhrs={},n._dispatchPromise=Promise.resolve(),n._protocol="",n._config={protocol:"",debug:!1,name:"js",version:"",websocket:null,sockjs:null,xmlhttprequest:null,minRetry:1e3,maxRetry:2e4,timeout:5e3,ping:!0,pingInterval:25e3,pongWaitTimeout:5e3,privateChannelPrefix:"$",onTransportClose:null,sockjsServer:null,sockjsTimeout:null,sockjsTransports:["websocket","xdr-streaming","xhr-streaming","eventsource","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],refreshEndpoint:"/centrifuge/refresh",refreshHeaders:{},refreshParams:{},refreshData:{},refreshAttempts:null,refreshInterval:1e3,onRefreshFailed:null,onRefresh:null,subscribeEndpoint:"/centrifuge/subscribe",subscribeHeaders:{},subscribeParams:{},subRefreshInterval:1e3,onPrivateSubscribe:null,disableWithCredentials:!1},n._configure(o),n}return T(g,[{key:"setToken",value:function(o){this._token=o}},{key:"setConnectData",value:function(o){this._connectData=o}},{key:"setRefreshHeaders",value:function(o){this._config.refreshHeaders=o}},{key:"setRefreshParams",value:function(o){this._config.refreshParams=o}},{key:"setRefreshData",value:function(o){this._config.refreshData=o}},{key:"setSubscribeHeaders",value:function(o){this._config.subscribeHeaders=o}},{key:"setSubscribeParams",value:function(o){this._config.subscribeParams=o}},{key:"_ajax",value:function(o,n,f,u,b){var S=this,N="";this._debug("sending AJAX request to",o,"with data",JSON.stringify(u));var O;this._xmlhttprequest!==null?O=new this._xmlhttprequest:O=l.g.XMLHttpRequest?new l.g.XMLHttpRequest:new l.g.ActiveXObject("Microsoft.XMLHTTP");for(var $ in n)n.hasOwnProperty($)&&(N.length>0&&(N+="&"),N+=encodeURIComponent($)+"="+encodeURIComponent(n[$]));N.length>0&&(N="?"+N),O.open("POST",o+N,!0),"withCredentials"in O&&(O.withCredentials=!this._config.disableWithCredentials),O.setRequestHeader("X-Requested-With","XMLHttpRequest"),O.setRequestHeader("Content-Type","application/json");for(var K in f)f.hasOwnProperty(K)&&O.setRequestHeader(K,f[K]);return O.onreadystatechange=function(){if(O.readyState===4)if(O.status===200){var F,V=!1;try{F=JSON.parse(O.responseText),V=!0}catch{b({error:"Invalid JSON. Data was: "+O.responseText,status:200,data:null})}V&&b({data:F,status:200})}else S._log("wrong status code in AJAX response",O.status),b({status:O.status,data:null})},setTimeout(function(){return O.send(JSON.stringify(u))},20),O}},{key:"_log",value:function(){(0,p.log)("info",arguments)}},{key:"_debug",value:function(){this._config.debug===!0&&(0,p.log)("debug",arguments)}},{key:"_websocketSupported",value:function(){return this._config.websocket!==null?!0:!(typeof WebSocket!="function"&&(typeof WebSocket>"u"?"undefined":A(WebSocket))!=="object")}},{key:"_setFormat",value:function(o){if(!this._formatOverride(o)){if(o==="protobuf")throw new Error("not implemented by JSON only Centrifuge client \u2013 use client with Protobuf");this._binary=!1,this._methodType=y.JsonMethodType,this._pushType=y.JsonPushType,this._encoder=new y.JsonEncoder,this._decoder=new y.JsonDecoder}}},{key:"_formatOverride",value:function(o){return!1}},{key:"_configure",value:function(o){if(!("Promise"in l.g))throw new Error("Promise polyfill required");if((0,p.extend)(this._config,o||{}),this._debug("centrifuge config",this._config),!this._url)throw new Error("url required");var n=(0,p.startsWith)(this._url,"ws")&&this._url.indexOf("format=protobuf")>-1;if(n||this._config.protocol==="protobuf")this._setFormat("protobuf"),this._protocol="protobuf";else{if(this._config.protocol!==""&&this._config.protocol!=="json")throw new Error("unsupported protocol "+this._config.protocol);this._setFormat("json")}if((0,p.startsWith)(this._url,"http"))if(this._debug("client will try to connect to SockJS endpoint"),this._config.sockjs!==null)this._debug("SockJS explicitly provided in options"),this._sockjs=this._config.sockjs;else{if(typeof l.g.SockJS>"u")throw new Error("SockJS not found, use ws:// in url or include SockJS");this._debug("use globally defined SockJS"),this._sockjs=l.g.SockJS}else this._debug("client will connect to websocket endpoint");this._xmlhttprequest=this._config.xmlhttprequest}},{key:"_setStatus",value:function(o){this._status!==o&&(this._debug("Status",this._status,"->",o),this._status=o)}},{key:"_isDisconnected",value:function(){return this._status==="disconnected"}},{key:"_isConnecting",value:function(){return this._status==="connecting"}},{key:"_isConnected",value:function(){return this._status==="connected"}},{key:"_nextMessageId",value:function(){return++this._messageId}},{key:"_resetRetry",value:function(){this._debug("reset retries count to 0"),this._retries=0}},{key:"_getRetryInterval",value:function(){var o=(0,p.backoff)(this._retries,this._config.minRetry,this._config.maxRetry);return this._retries+=1,o}},{key:"_abortInflightXHRs",value:function(){for(var o in this._xhrs){try{this._xhrs[o].abort()}catch(n){this._debug("error aborting xhr",n)}delete this._xhrs[o]}}},{key:"_clearConnectedState",value:function(o){this._clientID=null,this._stopPing();for(var n in this._callbacks)if(this._callbacks.hasOwnProperty(n)){var f=this._callbacks[n];clearTimeout(f.timeout);var u=f.errback;if(!u)continue;u({error:this._createErrorObject("disconnected")})}this._callbacks={};for(var b in this._subs)if(this._subs.hasOwnProperty(b)){var S=this._subs[b];o?(S._isSuccess()&&(S._triggerUnsubscribe(),S._recover=!0),S._shouldResubscribe()&&S._setSubscribing()):S._setUnsubscribed()}this._abortInflightXHRs(),this._refreshTimeout!==null&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null);for(var N in this._subRefreshTimeouts)this._subRefreshTimeouts.hasOwnProperty(N)&&this._subRefreshTimeouts[N]&&this._clearSubRefreshTimeout(N);this._subRefreshTimeouts={},this._reconnect||(this._subs={})}},{key:"_isTransportOpen",value:function(){return this._isSockjs?this._transport&&this._transport.transport&&this._transport.transport.readyState===this._transport.transport.OPEN:this._transport&&this._transport.readyState===this._transport.OPEN}},{key:"_transportSend",value:function(o){if(!o.length)return!0;if(!this._isTransportOpen()){for(var n in o){var f=n.id;if(f in this._callbacks){var u=this._callbacks[f];clearTimeout(this._callbacks[f].timeout),delete this._callbacks[f];var b=u.errback;b({error:this._createErrorObject(H,0)})}}return!1}return this._transport.send(this._encoder.encodeCommands(o)),!0}},{key:"_getSubProtocol",value:function(){return this._protocol?"centrifuge-"+this._protocol:""}},{key:"_setupTransport",value:function(){var o=this;if(this._isSockjs=!1,this._sockjs!==null){var n={transports:this._config.sockjsTransports};this._config.sockjsServer!==null&&(n.server=this._config.sockjsServer),this._config.sockjsTimeout!==null&&(n.timeout=this._config.sockjsTimeout),this._isSockjs=!0,this._transport=new this._sockjs(this._url,null,n)}else{if(!this._websocketSupported()){this._debug("No Websocket support and no SockJS configured, can not connect");return}this._config.websocket!==null?this._websocket=this._config.websocket:this._websocket=WebSocket;var f=this._getSubProtocol();f!==""?this._transport=new this._websocket(this._url,f):this._transport=new this._websocket(this._url),this._binary===!0&&(this._transport.binaryType="arraybuffer")}this._transport.onopen=function(){o._transportClosed=!1,o._isSockjs?(o._transportName="sockjs-"+o._transport.transport,o._transport.onheartbeat=function(){return o._restartPing()}):o._transportName="websocket";var u={};(o._token||o._connectData||o._config.name||o._config.version)&&(u.params={}),o._token&&(u.params.token=o._token),o._connectData&&(u.params.data=o._connectData),o._config.name&&(u.params.name=o._config.name),o._config.version&&(u.params.version=o._config.version);var b={},S=!1;for(var N in o._serverSubs)if(o._serverSubs.hasOwnProperty(N)&&o._serverSubs[N].recoverable){S=!0;var O={recover:!0};o._serverSubs[N].seq||o._serverSubs[N].gen?(o._serverSubs[N].seq&&(O.seq=o._serverSubs[N].seq),o._serverSubs[N].gen&&(O.gen=o._serverSubs[N].gen)):o._serverSubs[N].offset&&(O.offset=o._serverSubs[N].offset),o._serverSubs[N].epoch&&(O.epoch=o._serverSubs[N].epoch),b[N]=O}S&&(u.params||(u.params={}),u.params.subs=b),o._latencyStart=new Date,o._call(u).then(function($){o._connectResponse(o._decoder.decodeCommandResult(o._methodType.CONNECT,$.result),S),$.next&&$.next()},function($){var K=$.error;K.code===109&&(o._refreshRequired=!0),o._disconnect("connect error",!0),$.next&&$.next()})},this._transport.onerror=function(u){o._debug("transport level error",u)},this._transport.onclose=function(u){o._transportClosed=!0;var b=H,S=!0;if(u&&"reason"in u&&u.reason)try{var N=JSON.parse(u.reason);o._debug("reason is an advice object",N),b=N.reason,S=N.reconnect}catch{b=u.reason,o._debug("reason is a plain string",b)}if(o._config.onTransportClose!==null&&o._config.onTransportClose({event:u,reason:b,reconnect:S}),o._disconnect(b,S),o._reconnect===!0){o._reconnecting=!0;var O=o._getRetryInterval();o._debug("reconnect after "+O+" milliseconds"),setTimeout(function(){o._reconnect===!0&&(o._refreshRequired?o._refresh():o._connect())},O)}},this._transport.onmessage=function(u){o._dataReceived(u.data)}}},{key:"rpc",value:function(o){return this._rpc("",o)}},{key:"namedRPC",value:function(o,n){return this._rpc(o,n)}},{key:"_rpc",value:function(o,n){var f={data:n};o!==""&&(f.method=o);var u={method:this._methodType.RPC,params:f};return this._methodCall(u,function(b){return b})}},{key:"send",value:function(o){var n={method:this._methodType.SEND,params:{data:o}};if(!this.isConnected())return Promise.reject(this._createErrorObject(H,0));var f=this._transportSend([n]);return f?Promise.resolve({}):Promise.reject(this._createErrorObject(H,0))}},{key:"_getHistoryParams",value:function(o,n){var f={channel:o};return n!==void 0&&(n.since&&(f.since={offset:n.since.offset},n.since.epoch&&(f.since.epoch=n.since.epoch)),n.limit!==void 0&&(f.limit=n.limit),n.reverse===!0&&(f.reverse=!0)),f}},{key:"_methodCall",value:function(o,n){var f=this;return this.isConnected()?new Promise(function(u,b){f._call(o).then(function(S){u(n(f._decoder.decodeCommandResult(o.method,S.result))),S.next&&S.next()},function(S){b(S.error),S.next&&S.next()})}):Promise.reject(this._createErrorObject(H,0))}},{key:"publish",value:function(o,n){var f={method:this._methodType.PUBLISH,params:{channel:o,data:n}};return this._methodCall(f,function(){return{}})}},{key:"history",value:function(o,n){var f=this._getHistoryParams(o,n),u={method:this._methodType.HISTORY,params:f};return this._methodCall(u,function(b){return{publications:b.publications,epoch:b.epoch||"",offset:b.offset||0}})}},{key:"presence",value:function(o){var n={method:this._methodType.PRESENCE,params:{channel:o}};return this._methodCall(n,function(f){return{presence:f.presence}})}},{key:"presenceStats",value:function(o){var n={method:this._methodType.PRESENCE_STATS,params:{channel:o}};return this._methodCall(n,function(f){return{num_users:f.num_users,num_clients:f.num_clients}})}},{key:"_dataReceived",value:function(o){var n=this,f=this._decoder.decodeReplies(o);this._dispatchPromise=this._dispatchPromise.then(function(){var u;n._dispatchPromise=new Promise(function(b){u=b}),n._dispatchSynchronized(f,u)}),this._restartPing()}},{key:"_dispatchSynchronized",value:function(o,n){var f=this,u=Promise.resolve(),b=function(O){o.hasOwnProperty(O)&&(u=u.then(function(){return f._dispatchReply(o[O])}))};for(var S in o)b(S);u=u.then(function(){n()})}},{key:"_dispatchReply",value:function(o){var n,f=new Promise(function(b){n=b});if(o==null)return this._debug("dispatch: got undefined or null reply"),n(),f;var u=o.id;return u&&u>0?this._handleReply(o,n):this._handlePush(o.result,n),f}},{key:"_call",value:function(o){var n=this;return new Promise(function(f,u){var b=n._addMessage(o);n._registerCall(b,f,u)})}},{key:"_connect",value:function(){if(this.isConnected()){this._debug("connect called when already connected");return}this._status!=="connecting"&&(this._debug("start connecting"),this._setStatus("connecting"),this._clientID=null,this._reconnect=!0,this._setupTransport())}},{key:"_disconnect",value:function(o,n){var f=n||!1;if(f===!1&&(this._reconnect=!1),this._isDisconnected()){f||this._clearConnectedState(f);return}if(this._clearConnectedState(f),this._debug("disconnected:",o,n),this._setStatus("disconnected"),this._refreshTimeout&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null),this._reconnecting===!1){for(var u in this._serverSubs)this._serverSubs.hasOwnProperty(u)&&this.emit("unsubscribe",{channel:u});this.emit("disconnect",{reason:o,reconnect:f})}f===!1&&(this._subs={},this._serverSubs={}),this._transportClosed||this._transport.close()}},{key:"_refreshFailed",value:function(){this._numRefreshFailed=0,this._isDisconnected()||this._disconnect("refresh failed",!1),this._config.onRefreshFailed!==null&&this._config.onRefreshFailed()}},{key:"_refresh",value:function(){var o=this;if(this._debug("refresh token"),this._config.refreshAttempts===0){this._debug("refresh attempts set to 0, do not send refresh request at all"),this._refreshFailed();return}this._refreshTimeout!==null&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null);var n=this._clientID,f=this._newXHRID(),u=function(O){if(f in o._xhrs&&delete o._xhrs[f],o._clientID===n){if(O.error||O.status!==200){if(O.error?o._debug("error refreshing connection token",O.error):o._debug("error refreshing connection token: wrong status code",O.status),o._numRefreshFailed++,o._refreshTimeout!==null&&(clearTimeout(o._refreshTimeout),o._refreshTimeout=null),o._config.refreshAttempts!==null&&o._numRefreshFailed>=o._config.refreshAttempts){o._refreshFailed();return}var $=Math.round(Math.random()*1e3*Math.max(o._numRefreshFailed,20)),K=o._config.refreshInterval+$;o._refreshTimeout=setTimeout(function(){return o._refresh()},K);return}if(o._numRefreshFailed=0,o._token=O.data.token,!o._token){o._refreshFailed();return}if(o._isDisconnected()&&o._reconnect)o._debug("token refreshed, connect from scratch"),o._connect();else{o._debug("send refreshed token");var F={method:o._methodType.REFRESH,params:{token:o._token}};o._call(F).then(function(V){o._refreshResponse(o._decoder.decodeCommandResult(o._methodType.REFRESH,V.result)),V.next&&V.next()},function(V){o._refreshError(V.error),V.next&&V.next()})}}};if(this._config.onRefresh!==null){var b={};this._config.onRefresh(b,u)}else{var S=this._ajax(this._config.refreshEndpoint,this._config.refreshParams,this._config.refreshHeaders,this._config.refreshData,u);this._xhrs[f]=S}}},{key:"_refreshError",value:function(o){var n=this;this._debug("refresh error",o),this._refreshTimeout&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null);var f=this._config.refreshInterval+Math.round(Math.random()*1e3);this._refreshTimeout=setTimeout(function(){return n._refresh()},f)}},{key:"_refreshResponse",value:function(o){var n=this;this._refreshTimeout&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null),o.expires&&(this._clientID=o.client,this._refreshTimeout=setTimeout(function(){return n._refresh()},this._getTTLMilliseconds(o.ttl)))}},{key:"_newXHRID",value:function(){return this._xhrID++,this._xhrID}},{key:"_subRefresh",value:function(o){var n=this;if(this._debug("refresh subscription token for channel",o),this._subRefreshTimeouts[o]!==void 0)this._clearSubRefreshTimeout(o);else return;var f=this._clientID,u=this._newXHRID(),b=function($){if(u in n._xhrs&&delete n._xhrs[u],!($.error||$.status!==200||n._clientID!==f)){var K={};if($.data.channels)for(var F in $.data.channels){var V=$.data.channels[F];!V.channel||(K[V.channel]=V.token)}var ae=K[o];if(!!ae){var $e={method:n._methodType.SUB_REFRESH,params:{channel:o,token:ae}},le=n._getSub(o);le!==null&&n._call($e).then(function(oe){n._subRefreshResponse(o,n._decoder.decodeCommandResult(n._methodType.SUB_REFRESH,oe.result)),oe.next&&oe.next()},function(oe){n._subRefreshError(o,oe.error),oe.next&&oe.next()})}}},S={client:this._clientID,channels:[o]};if(this._config.onPrivateSubscribe!==null)this._config.onPrivateSubscribe({data:S},b);else{var N=this._ajax(this._config.subscribeEndpoint,this._config.subscribeParams,this._config.subscribeHeaders,S,b);this._xhrs[u]=N}}},{key:"_clearSubRefreshTimeout",value:function(o){this._subRefreshTimeouts[o]!==void 0&&(clearTimeout(this._subRefreshTimeouts[o]),delete this._subRefreshTimeouts[o])}},{key:"_subRefreshError",value:function(o,n){var f=this;this._debug("subscription refresh error",o,n),this._clearSubRefreshTimeout(o);var u=this._getSub(o);if(u!==null){var b=Math.round(Math.random()*1e3),S=setTimeout(function(){return f._subRefresh(o)},this._config.subRefreshInterval+b);this._subRefreshTimeouts[o]=S}}},{key:"_subRefreshResponse",value:function(o,n){var f=this;this._debug("subscription refresh success",o),this._clearSubRefreshTimeout(o);var u=this._getSub(o);if(u!==null&&n.expires===!0){var b=setTimeout(function(){return f._subRefresh(o)},this._getTTLMilliseconds(n.ttl));this._subRefreshTimeouts[o]=b}}},{key:"_subscribe",value:function(o,n){var f=this;this._debug("subscribing on",o.channel);var u=o.channel;if(u in this._subs||(this._subs[u]=o),!this.isConnected()){o._setNew();return}o._setSubscribing(n);var b={method:this._methodType.SUBSCRIBE,params:{channel:u}};if(o._subscribeData&&(b.params.data=o._subscribeData),(0,p.startsWith)(u,this._config.privateChannelPrefix))this._isSubscribeBatching?this._privateChannels[u]=!0:(this.startSubscribeBatching(),this._subscribe(o),this.stopSubscribeBatching());else{var S=o._needRecover();if(S===!0){b.params.recover=!0;var N=this._getLastSeq(u),O=this._getLastGen(u);if(N||O)N&&(b.params.seq=N),O&&(b.params.gen=O);else{var $=this._getLastOffset(u);$&&(b.params.offset=$)}var K=this._getLastEpoch(u);K&&(b.params.epoch=K)}this._call(b).then(function(F){f._subscribeResponse(u,S,f._decoder.decodeCommandResult(f._methodType.SUBSCRIBE,F.result)),F.next&&F.next()},function(F){f._subscribeError(u,F.error),F.next&&F.next()})}}},{key:"_unsubscribe",value:function(o){delete this._subs[o.channel],delete this._lastOffset[o.channel],delete this._lastSeq[o.channel],delete this._lastGen[o.channel],this.isConnected()&&this._addMessage({method:this._methodType.UNSUBSCRIBE,params:{channel:o.channel}})}},{key:"_getTTLMilliseconds",value:function(o){return Math.min(o*1e3,2147483647)}},{key:"getSub",value:function(o){return this._getSub(o)}},{key:"_getSub",value:function(o){var n=this._subs[o];return n||null}},{key:"_isServerSub",value:function(o){return this._serverSubs[o]!==void 0}},{key:"_connectResponse",value:function(o,n){var f=this,u=this._reconnecting;if(this._reconnecting=!1,this._resetRetry(),this._refreshRequired=!1,!this.isConnected()){this._latencyStart!==null&&(this._latency=new Date().getTime()-this._latencyStart.getTime(),this._latencyStart=null),this._clientID=o.client,this._setStatus("connected"),this._refreshTimeout&&clearTimeout(this._refreshTimeout),o.expires&&(this._refreshTimeout=setTimeout(function(){return f._refresh()},this._getTTLMilliseconds(o.ttl))),this.startBatching(),this.startSubscribeBatching();for(var b in this._subs)if(this._subs.hasOwnProperty(b)){var S=this._subs[b];S._shouldResubscribe()&&this._subscribe(S,u)}this.stopSubscribeBatching(),this.stopBatching(),this._startPing();var N={client:o.client,transport:this._transportName,latency:this._latency};o.data&&(N.data=o.data),this.emit("connect",N),o.subs&&this._processServerSubs(o.subs)}}},{key:"_processServerSubs",value:function(o){for(var n in o)if(o.hasOwnProperty(n)){var f=o[n],u=this._serverSubs[n]!==void 0,b={channel:n,isResubscribe:u};b=this._expandSubscribeContext(b,f),this.emit("subscribe",b)}for(var S in o)if(o.hasOwnProperty(S)){var N=o[S];if(N.recovered){var O=N.publications;if(O&&O.length>0){O.length>1&&(!O[0].offset||O[0].offset>O[1].offset)&&(O=O.reverse());for(var $ in O)O.hasOwnProperty($)&&this._handlePublication(S,O[$])}}this._serverSubs[S]={seq:N.seq,gen:N.gen,offset:N.offset,epoch:N.epoch,recoverable:N.recoverable}}}},{key:"_stopPing",value:function(){this._pongTimeout!==null&&(clearTimeout(this._pongTimeout),this._pongTimeout=null),this._pingTimeout!==null&&(clearTimeout(this._pingTimeout),this._pingTimeout=null)}},{key:"_startPing",value:function(){var o=this;this._config.ping!==!0||this._config.pingInterval<=0||!this.isConnected()||(this._pingTimeout=setTimeout(function(){if(!o.isConnected()){o._stopPing();return}o.ping(),o._pongTimeout=setTimeout(function(){o._disconnect("no ping",!0)},o._config.pongWaitTimeout)},this._config.pingInterval))}},{key:"_restartPing",value:function(){this._stopPing(),this._startPing()}},{key:"_subscribeError",value:function(o,n){var f=this._getSub(o);if(!!f&&!!f._isSubscribing()){if(n.code===0&&n.message===I){this._disconnect("timeout",!0);return}f._setSubscribeError(n)}}},{key:"_expandSubscribeContext",value:function(o,n){var f=!1;"recovered"in n&&(f=n.recovered),o.recovered=f;var u=!1;"positioned"in n&&(u=n.positioned);var b="";"epoch"in n&&(b=n.epoch);var S=0;return"offset"in n&&(S=n.offset),u&&(o.streamPosition={offset:S,epoch:b}),n.data&&(o.data=n.data),o}},{key:"_subscribeResponse",value:function(o,n,f){var u=this,b=this._getSub(o);if(!!b&&!!b._isSubscribing()){b._setSubscribeSuccess(f);var S=f.publications;if(S&&S.length>0){S.length>=2&&!S[0].offset&&!S[1].offset&&(S=S.reverse());for(var N in S)S.hasOwnProperty(N)&&this._handlePublication(o,S[N])}if(f.recoverable&&(!n||!f.recovered)&&(this._lastSeq[o]=f.seq||0,this._lastGen[o]=f.gen||0,this._lastOffset[o]=f.offset||0),this._lastEpoch[o]=f.epoch||"",f.recoverable&&(b._recoverable=!0),f.expires===!0){var O=setTimeout(function(){return u._subRefresh(o)},this._getTTLMilliseconds(f.ttl));this._subRefreshTimeouts[o]=O}}}},{key:"_handleReply",value:function(o,n){var f=o.id,u=o.result;if(!(f in this._callbacks)){n();return}var b=this._callbacks[f];if(clearTimeout(this._callbacks[f].timeout),delete this._callbacks[f],(0,p.errorExists)(o)){var N=b.errback;if(!N){n();return}var O=o.error;N({error:O,next:n})}else{var S=b.callback;if(!S)return;S({result:u,next:n})}}},{key:"_handleJoin",value:function(o,n){var f={info:n.info},u=this._getSub(o);if(!u){this._isServerSub(o)&&(f.channel=o,this.emit("join",f));return}u.emit("join",f)}},{key:"_handleLeave",value:function(o,n){var f={info:n.info},u=this._getSub(o);if(!u){this._isServerSub(o)&&(f.channel=o,this.emit("leave",f));return}u.emit("leave",f)}},{key:"_handleUnsub",value:function(o,n){var f={},u=this._getSub(o);if(!u){this._isServerSub(o)&&(delete this._serverSubs[o],f.channel=o,this.emit("unsubscribe",f));return}u.unsubscribe(),n.resubscribe===!0&&u.subscribe()}},{key:"_handleSub",value:function(o,n){this._serverSubs[o]={seq:n.seq,gen:n.gen,offset:n.offset,epoch:n.epoch,recoverable:n.recoverable};var f={channel:o,isResubscribe:!1};f=this._expandSubscribeContext(f,n),this.emit("subscribe",f)}},{key:"_handlePublication",value:function(o,n){var f=this._getSub(o),u={data:n.data,seq:n.seq,gen:n.gen,offset:n.offset};if(n.info&&(u.info=n.info),!f){this._isServerSub(o)&&(n.seq!==void 0&&(this._serverSubs[o].seq=n.seq),n.gen!==void 0&&(this._serverSubs[o].gen=n.gen),n.offset!==void 0&&(this._serverSubs[o].offset=n.offset),u.channel=o,this.emit("publish",u));return}n.seq!==void 0&&(this._lastSeq[o]=n.seq),n.gen!==void 0&&(this._lastGen[o]=n.gen),n.offset!==void 0&&(this._lastOffset[o]=n.offset),f.emit("publish",u)}},{key:"_handleMessage",value:function(o){this.emit("message",o.data)}},{key:"_handlePush",value:function(o,n){var f=this._decoder.decodePush(o),u=0;"type"in f&&(u=f.type);var b=f.channel;if(u===this._pushType.PUBLICATION){var S=this._decoder.decodePushData(this._pushType.PUBLICATION,f.data);this._handlePublication(b,S)}else if(u===this._pushType.MESSAGE){var N=this._decoder.decodePushData(this._pushType.MESSAGE,f.data);this._handleMessage(N)}else if(u===this._pushType.JOIN){var O=this._decoder.decodePushData(this._pushType.JOIN,f.data);this._handleJoin(b,O)}else if(u===this._pushType.LEAVE){var $=this._decoder.decodePushData(this._pushType.LEAVE,f.data);this._handleLeave(b,$)}else if(u===this._pushType.UNSUBSCRIBE){var K=this._decoder.decodePushData(this._pushType.UNSUBSCRIBE,f.data);this._handleUnsub(b,K)}else if(u===this._pushType.SUBSCRIBE){var F=this._decoder.decodePushData(this._pushType.UNSUBSCRIBE,f.data);this._handleSub(b,F)}n()}},{key:"_flush",value:function(){var o=this._messages.slice(0);this._messages=[],this._transportSend(o)}},{key:"_ping",value:function(){var o=this,n={method:this._methodType.PING};this._call(n).then(function(f){o._pingResponse(o._decoder.decodeCommandResult(o._methodType.PING,f.result)),f.next&&f.next()},function(f){o._debug("ping error",f.error),f.next&&f.next()})}},{key:"_pingResponse",value:function(o){!this.isConnected()||(this._stopPing(),this._startPing())}},{key:"_getLastSeq",value:function(o){var n=this._lastSeq[o];return n||0}},{key:"_getLastOffset",value:function(o){var n=this._lastOffset[o];return n||0}},{key:"_getLastGen",value:function(o){var n=this._lastGen[o];return n||0}},{key:"_getLastEpoch",value:function(o){var n=this._lastEpoch[o];return n||""}},{key:"_createErrorObject",value:function(o,n){var f={message:o,code:n||0};return f}},{key:"_registerCall",value:function(o,n,f){var u=this;this._callbacks[o]={callback:n,errback:f,timeout:null},this._callbacks[o].timeout=setTimeout(function(){delete u._callbacks[o],(0,p.isFunction)(f)&&f({error:u._createErrorObject(I)})},this._config.timeout)}},{key:"_addMessage",value:function(o){var n=this._nextMessageId();return o.id=n,this._isBatching===!0?this._messages.push(o):this._transportSend([o]),n}},{key:"isConnected",value:function(){return this._isConnected()}},{key:"connect",value:function(){this._connect()}},{key:"disconnect",value:function(){this._disconnect("client",!1)}},{key:"ping",value:function(){return this._ping()}},{key:"startBatching",value:function(){this._isBatching=!0}},{key:"stopBatching",value:function(){this._isBatching=!1,this._flush()}},{key:"startSubscribeBatching",value:function(){this._isSubscribeBatching=!0}},{key:"stopSubscribeBatching",value:function(){var o=this;this._isSubscribeBatching=!1;var n=this._privateChannels;this._privateChannels={};var f=[];for(var u in n)if(n.hasOwnProperty(u)){var b=this._getSub(u);if(!b)continue;f.push(u)}if(f.length===0){this._debug("no private channels found, no need to make request");return}var S={client:this._clientID,channels:f},N=this._clientID,O=this._newXHRID(),$=function(V){if(O in o._xhrs&&delete o._xhrs[O],o._clientID===N){if(V.error||V.status!==200){o._debug("authorization request failed");for(var ae in f)if(f.hasOwnProperty(ae)){var $e=f[ae];o._subscribeError($e,o._createErrorObject("authorization request failed"))}return}var le={};if(V.data.channels)for(var oe in V.data.channels){var Ht=V.data.channels[oe];!Ht.channel||(le[Ht.channel]=Ht.token)}var _t=!1;o._isBatching||(o.startBatching(),_t=!0);for(var vr in f)if(f.hasOwnProperty(vr)){var br=function(){var fe=f[vr],yr=le[fe];if(yr){var Ce={method:o._methodType.SUBSCRIBE,params:{channel:fe,token:yr}},jt=o._getSub(fe);if(jt===null)return"continue";var Er=jt._needRecover();if(Er===!0){Ce.params.recover=!0;var Wt=o._getLastSeq(fe),me=o._getLastGen(fe);if(Wt||me)Wt&&(Ce.params.seq=Wt),me&&(Ce.params.gen=me);else{var qe=o._getLastOffset(fe);qe&&(Ce.params.offset=qe)}var Vt=o._getLastEpoch(fe);Vt&&(Ce.params.epoch=Vt)}o._call(Ce).then(function(ve){o._subscribeResponse(fe,Er,o._decoder.decodeCommandResult(o._methodType.SUBSCRIBE,ve.result)),ve.next&&ve.next()},function(ve){o._subscribeError(fe,ve.error),ve.next&&ve.next()})}else return o._subscribeError(fe,o._createErrorObject("permission denied",103)),"continue"}();if(br==="continue")continue}_t&&o.stopBatching()}};if(this._config.onPrivateSubscribe!==null)this._config.onPrivateSubscribe({data:S},$);else{var K=this._ajax(this._config.subscribeEndpoint,this._config.subscribeParams,this._config.subscribeHeaders,S,$);this._xhrs[O]=K}}},{key:"_setSubscribeSince",value:function(o,n){this._lastOffset[o.channel]=n.offset,this._lastEpoch[o.channel]=n.epoch,o._setNeedRecover(!0)}},{key:"subscribe",value:function(o,n,f){var u=this._getSub(o);if(u!==null)return u._setEvents(n),u._isUnsubscribed()&&u.subscribe(f),u;var b=new _.default(this,o,n);return this._subs[o]=b,b.subscribe(f),b}}]),g}(h.default);a.Centrifuge=v},579:function(s,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var h=l(382),_=h.Centrifuge;a.default=_,s.exports=a.default},147:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.JsonPushType=a.JsonMethodType=a.JsonEncoder=a.JsonDecoder=void 0;function l(x,C){if(!(x instanceof C))throw new TypeError("Cannot call a class as a function")}function h(x,C){for(var T=0;T<C.length;T++){var R=C[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(x,R.key,R)}}function _(x,C,T){return C&&h(x.prototype,C),T&&h(x,T),x}var y={CONNECT:0,SUBSCRIBE:1,UNSUBSCRIBE:2,PUBLISH:3,PRESENCE:4,PRESENCE_STATS:5,HISTORY:6,PING:7,SEND:8,RPC:9,REFRESH:10,SUB_REFRESH:11};a.JsonMethodType=y;var p={PUBLICATION:0,JOIN:1,LEAVE:2,UNSUBSCRIBE:3,MESSAGE:4,SUBSCRIBE:5};a.JsonPushType=p;var w=function(){function x(){l(this,x)}return _(x,[{key:"encodeCommands",value:function(T){return T.map(function(R){return JSON.stringify(R)}).join(`
`)}}]),x}();a.JsonEncoder=w;var A=function(){function x(){l(this,x)}return _(x,[{key:"decodeReplies",value:function(T){return T.split(`
`).filter(function(R){return R!==""}).map(function(R){return JSON.parse(R)})}},{key:"decodeCommandResult",value:function(T,R){return R}},{key:"decodePush",value:function(T){return T}},{key:"decodePushData",value:function(T,R){return R}}]),x}();a.JsonDecoder=A},471:function(s,a,l){function h(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(c){return typeof c}:h=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},h(d)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var _=p(l(187)),y=l(853);function p(d){return d&&d.__esModule?d:{default:d}}function w(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function A(d,g){for(var c=0;c<g.length;c++){var o=g[c];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(d,o.key,o)}}function x(d,g,c){return g&&A(d.prototype,g),c&&A(d,c),d}function C(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),g&&T(d,g)}function T(d,g){return T=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},T(d,g)}function R(d){var g=W();return function(){var o=D(d),n;if(g){var f=D(this).constructor;n=Reflect.construct(o,arguments,f)}else n=o.apply(this,arguments);return B(this,n)}}function B(d,g){if(g&&(h(g)==="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(d)}function j(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function D(d){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},D(d)}var M=0,k=1,I=2,H=3,v=4,m=function(d){C(c,d);var g=R(c);function c(o,n,f){var u;return w(this,c),u=g.call(this),u.channel=n,u._centrifuge=o,u._status=M,u._error=null,u._isResubscribe=!1,u._ready=!1,u._subscriptionPromise=null,u._noResubscribe=!1,u._recoverable=!1,u._recover=!1,u._setEvents(f),u._initializePromise(),u._promises={},u._promiseId=0,u._subscribeData=null,u.on("error",function(b){this._centrifuge._debug("subscription error",b)}),u}return x(c,[{key:"_nextPromiseId",value:function(){return++this._promiseId}},{key:"_initializePromise",value:function(){var n=this;this._ready=!1,this._subscriptionPromise=new Promise(function(f,u){n._resolve=function(b){n._ready=!0,f(b)},n._reject=function(b){n._ready=!0,u(b)}}).then(function(){},function(){})}},{key:"_setNeedRecover",value:function(n){this._recoverable=n,this._recover=n}},{key:"_needRecover",value:function(){return this._recoverable===!0&&this._recover===!0}},{key:"_setEvents",value:function(n){if(!!n){if((0,y.isFunction)(n))this.on("publish",n);else if(Object.prototype.toString.call(n)===Object.prototype.toString.call({}))for(var f=["publish","join","leave","unsubscribe","subscribe","error"],u=0,b=f.length;u<b;u++){var S=f[u];S in n&&this.on(S,n[S])}}}},{key:"_isNew",value:function(){return this._status===M}},{key:"_isUnsubscribed",value:function(){return this._status===v}},{key:"_isSubscribing",value:function(){return this._status===k}},{key:"_isReady",value:function(){return this._status===I||this._status===H}},{key:"_isSuccess",value:function(){return this._status===I}},{key:"_isError",value:function(){return this._status===H}},{key:"_setNew",value:function(){this._status=M}},{key:"_setSubscribing",value:function(n){this._isResubscribe=n||!1,this._ready===!0&&this._initializePromise(),this._status=k}},{key:"_setSubscribeSuccess",value:function(n){if(this._status!==I){this._status=I;var f=this._getSubscribeSuccessContext(n);this._recover=!1,this.emit("subscribe",f),this._resolve(f);for(var u in this._promises)clearTimeout(this._promises[u].timeout),this._promises[u].resolve(),delete this._promises[u]}}},{key:"_setSubscribeError",value:function(n){if(this._status!==H){this._status=H,this._error=n;var f=this._getSubscribeErrorContext();this.emit("error",f),this._reject(f);for(var u in this._promises)clearTimeout(this._promises[u].timeout),this._promises[u].reject(n),delete this._promises[u]}}},{key:"_triggerUnsubscribe",value:function(){this.emit("unsubscribe",{channel:this.channel})}},{key:"_setUnsubscribed",value:function(n){if(this._centrifuge._clearSubRefreshTimeout(this.channel),this._status!==v){var f=this._status===I;this._status=v,n===!0&&(this._recover=!1,this._noResubscribe=!0,delete this._centrifuge._lastSeq[this.channel],delete this._centrifuge._lastGen[this.channel],delete this._centrifuge._lastEpoch[this.channel]),f&&this._triggerUnsubscribe()}}},{key:"_shouldResubscribe",value:function(){return!this._noResubscribe}},{key:"_getSubscribeSuccessContext",value:function(n){var f={channel:this.channel,isResubscribe:this._isResubscribe};return n&&(f=this._centrifuge._expandSubscribeContext(f,n)),f}},{key:"_getSubscribeErrorContext",value:function(){var n=this._error;return n.channel=this.channel,n.isResubscribe=this._isResubscribe,n}},{key:"_setSubscribeData",value:function(n){this._subscribeData=n}},{key:"ready",value:function(n,f){this._ready&&(this._isSuccess()?n(this._getSubscribeSuccessContext()):f(this._getSubscribeErrorContext()))}},{key:"subscribe",value:function(n){this._status!==I&&(n&&n.since&&this._centrifuge._setSubscribeSince(this,n.since),n&&n.data&&this._setSubscribeData(n.data),this._noResubscribe=!1,this._centrifuge._subscribe(this))}},{key:"unsubscribe",value:function(){this._setUnsubscribed(!0),this._centrifuge._unsubscribe(this)}},{key:"_methodCall",value:function(){var n=this;if(this._isSuccess())return Promise.resolve();if(this._isError())return Promise.reject(this._error);var f=new Promise(function(u,b){var S=setTimeout(function(){b({code:0,message:"timeout"})},n._centrifuge._config.timeout);n._promises[n._nextPromiseId()]={timeout:S,resolve:u,reject:b}});return f}},{key:"publish",value:function(n){var f=this;return this._methodCall().then(function(){return f._centrifuge.publish(f.channel,n)})}},{key:"presence",value:function(){var n=this;return this._methodCall().then(function(){return n._centrifuge.presence(n.channel)})}},{key:"presenceStats",value:function(){var n=this;return this._methodCall().then(function(){return n._centrifuge.presenceStats(n.channel)})}},{key:"history",value:function(n){var f=this;return this._methodCall().then(function(){return f._centrifuge.history(f.channel,n)})}}]),c}(_.default);a.default=m,s.exports=a.default},853:function(s,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.backoff=p,a.errorExists=w,a.extend=A,a.isFunction=_,a.log=y,a.startsWith=h;function h(x,C){return x.lastIndexOf(C,0)===0}function _(x){return x==null?!1:typeof x=="function"}function y(x,C){if(l.g.console){var T=l.g.console[x];_(T)&&T.apply(l.g.console,C)}}function p(x,C,T){var R=.5*Math.random(),B=Math.min(T,C*Math.pow(2,x+1));return Math.floor((1-R)*B)}function w(x){return"error"in x&&x.error!==null}function A(x,C){for(var T in C)C.hasOwnProperty(T)&&(x[T]=C[T]);return x}},187:function(s){var a=typeof Reflect=="object"?Reflect:null,l=a&&typeof a.apply=="function"?a.apply:function(m,d,g){return Function.prototype.apply.call(m,d,g)},h;a&&typeof a.ownKeys=="function"?h=a.ownKeys:Object.getOwnPropertySymbols?h=function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:h=function(m){return Object.getOwnPropertyNames(m)};function _(v){console&&console.warn&&console.warn(v)}var y=Number.isNaN||function(m){return m!==m};function p(){p.init.call(this)}s.exports=p,s.exports.once=k,p.EventEmitter=p,p.prototype._events=void 0,p.prototype._eventsCount=0,p.prototype._maxListeners=void 0;var w=10;function A(v){if(typeof v!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof v)}Object.defineProperty(p,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(v){if(typeof v!="number"||v<0||y(v))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+v+".");w=v}}),p.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},p.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||y(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this};function x(v){return v._maxListeners===void 0?p.defaultMaxListeners:v._maxListeners}p.prototype.getMaxListeners=function(){return x(this)},p.prototype.emit=function(m){for(var d=[],g=1;g<arguments.length;g++)d.push(arguments[g]);var c=m==="error",o=this._events;if(o!==void 0)c=c&&o.error===void 0;else if(!c)return!1;if(c){var n;if(d.length>0&&(n=d[0]),n instanceof Error)throw n;var f=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw f.context=n,f}var u=o[m];if(u===void 0)return!1;if(typeof u=="function")l(u,this,d);else for(var b=u.length,S=W(u,b),g=0;g<b;++g)l(S[g],this,d);return!0};function C(v,m,d,g){var c,o,n;if(A(d),o=v._events,o===void 0?(o=v._events=Object.create(null),v._eventsCount=0):(o.newListener!==void 0&&(v.emit("newListener",m,d.listener?d.listener:d),o=v._events),n=o[m]),n===void 0)n=o[m]=d,++v._eventsCount;else if(typeof n=="function"?n=o[m]=g?[d,n]:[n,d]:g?n.unshift(d):n.push(d),c=x(v),c>0&&n.length>c&&!n.warned){n.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+n.length+" "+String(m)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=v,f.type=m,f.count=n.length,_(f)}return v}p.prototype.addListener=function(m,d){return C(this,m,d,!1)},p.prototype.on=p.prototype.addListener,p.prototype.prependListener=function(m,d){return C(this,m,d,!0)};function T(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function R(v,m,d){var g={fired:!1,wrapFn:void 0,target:v,type:m,listener:d},c=T.bind(g);return c.listener=d,g.wrapFn=c,c}p.prototype.once=function(m,d){return A(d),this.on(m,R(this,m,d)),this},p.prototype.prependOnceListener=function(m,d){return A(d),this.prependListener(m,R(this,m,d)),this},p.prototype.removeListener=function(m,d){var g,c,o,n,f;if(A(d),c=this._events,c===void 0)return this;if(g=c[m],g===void 0)return this;if(g===d||g.listener===d)--this._eventsCount===0?this._events=Object.create(null):(delete c[m],c.removeListener&&this.emit("removeListener",m,g.listener||d));else if(typeof g!="function"){for(o=-1,n=g.length-1;n>=0;n--)if(g[n]===d||g[n].listener===d){f=g[n].listener,o=n;break}if(o<0)return this;o===0?g.shift():D(g,o),g.length===1&&(c[m]=g[0]),c.removeListener!==void 0&&this.emit("removeListener",m,f||d)}return this},p.prototype.off=p.prototype.removeListener,p.prototype.removeAllListeners=function(m){var d,g,c;if(g=this._events,g===void 0)return this;if(g.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):g[m]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete g[m]),this;if(arguments.length===0){var o=Object.keys(g),n;for(c=0;c<o.length;++c)n=o[c],n!=="removeListener"&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(d=g[m],typeof d=="function")this.removeListener(m,d);else if(d!==void 0)for(c=d.length-1;c>=0;c--)this.removeListener(m,d[c]);return this};function B(v,m,d){var g=v._events;if(g===void 0)return[];var c=g[m];return c===void 0?[]:typeof c=="function"?d?[c.listener||c]:[c]:d?M(c):W(c,c.length)}p.prototype.listeners=function(m){return B(this,m,!0)},p.prototype.rawListeners=function(m){return B(this,m,!1)},p.listenerCount=function(v,m){return typeof v.listenerCount=="function"?v.listenerCount(m):j.call(v,m)},p.prototype.listenerCount=j;function j(v){var m=this._events;if(m!==void 0){var d=m[v];if(typeof d=="function")return 1;if(d!==void 0)return d.length}return 0}p.prototype.eventNames=function(){return this._eventsCount>0?h(this._events):[]};function W(v,m){for(var d=new Array(m),g=0;g<m;++g)d[g]=v[g];return d}function D(v,m){for(;m+1<v.length;m++)v[m]=v[m+1];v.pop()}function M(v){for(var m=new Array(v.length),d=0;d<m.length;++d)m[d]=v[d].listener||v[d];return m}function k(v,m){return new Promise(function(d,g){function c(n){v.removeListener(m,o),g(n)}function o(){typeof v.removeListener=="function"&&v.removeListener("error",c),d([].slice.call(arguments))}H(v,m,o,{once:!0}),m!=="error"&&I(v,c,{once:!0})})}function I(v,m,d){typeof v.on=="function"&&H(v,"error",m,d)}function H(v,m,d,g){if(typeof v.on=="function")g.once?v.once(m,d):v.on(m,d);else if(typeof v.addEventListener=="function")v.addEventListener(m,function c(o){g.once&&v.removeEventListener(m,c),d(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof v)}}},e={};function r(s){var a=e[s];if(a!==void 0)return a.exports;var l=e[s]={exports:{}};return t[s](l,l.exports,r),l.exports}(function(){r.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})();var i=r(579);return i}()})});function gt(t,e){return Math.random()*(e-t)+t}function vt(t,e,r){return Math.min(Math.max(t,e),r)}var Zn=["\u0410\u0433\u0430\u0444\u044C\u044F","\u0410\u0433\u043B\u0430\u044F","\u0410\u0433\u043D\u0438\u044F","\u0410\u0433\u0440\u0438\u043F\u043F\u0438\u043D\u0430","\u0410\u0437\u0430","\u0410\u043A\u0443\u043B\u0438\u043D\u0430","\u0410\u043B\u0435\u0432\u0442\u0438\u043D\u0430","\u0410\u043B\u0435\u043A\u0441\u0430\u043D\u0434\u0440\u0430","\u0410\u043B\u0438\u043D\u0430","\u0410\u043B\u043B\u0430","\u0410\u043D\u0430\u0441\u0442\u0430\u0441\u0438\u044F","\u0410\u043D\u0433\u0435\u043B\u0438\u043D\u0430","\u0410\u043D\u0436\u0435\u043B\u0430","\u0410\u043D\u0436\u0435\u043B\u0438\u043A\u0430","\u0410\u043D\u043D\u0430","\u0410\u043D\u0442\u043E\u043D\u0438\u043D\u0430","\u0410\u043D\u0444\u0438\u0441\u0430","\u0412\u0430\u043B\u0435\u043D\u0442\u0438\u043D\u0430","\u0412\u0430\u043B\u0435\u0440\u0438\u044F","\u0412\u0430\u0440\u0432\u0430\u0440\u0430","\u0412\u0430\u0441\u0438\u043B\u0438\u0441\u0430","\u0412\u0435\u0440\u0430","\u0412\u0435\u0440\u043E\u043D\u0438\u043A\u0430","\u0412\u0438\u043A\u0442\u043E\u0440\u0438\u044F","\u0413\u0430\u043B\u0438\u043D\u0430","\u0413\u043B\u0430\u0444\u0438\u0440\u0430","\u0413\u043B\u0438\u043A\u0435\u0440\u0438\u044F","\u0414\u0430\u043D\u0430","\u0414\u0430\u0440\u044C\u044F","\u0415\u0432\u0433\u0435\u043D\u0438\u044F","\u0415\u0432\u0434\u043E\u043A\u0438\u044F","\u0415\u0432\u043B\u0430\u043B\u0438\u044F","\u0415\u0432\u043B\u0430\u043C\u043F\u0438\u044F","\u0415\u0432\u043F\u0440\u0430\u043A\u0441\u0438\u044F","\u0415\u0432\u0444\u0440\u043E\u0441\u0438\u043D\u0438\u044F","\u0415\u043A\u0430\u0442\u0435\u0440\u0438\u043D\u0430","\u0415\u043B\u0435\u043D\u0430","\u0415\u043B\u0438\u0437\u0430\u0432\u0435\u0442\u0430","\u0415\u043F\u0438\u0441\u0442\u0438\u043C\u0430","\u0415\u0440\u043C\u0438\u043E\u043D\u0438\u044F","\u0416\u0430\u043D\u043D\u0430","\u0417\u0438\u043D\u0430\u0438\u0434\u0430","\u0417\u043B\u0430\u0442\u0430","\u0417\u043E\u044F","\u0418\u043D\u0433\u0430","\u0418\u043D\u0435\u0441\u0441\u0430","\u0418\u043D\u043D\u0430","\u0418\u043E\u0430\u043D\u043D\u0430","\u0418\u0440\u0430\u0438\u0434\u0430","\u0418\u0440\u0438\u043D\u0430","\u0418\u044F","\u041A\u0430\u043F\u0438\u0442\u043E\u043B\u0438\u043D\u0430","\u041A\u0430\u0440\u0438\u043D\u0430","\u041A\u0430\u0440\u043E\u043B\u0438\u043D\u0430","\u041A\u0438\u0440\u0430","\u041A\u043B\u0430\u0432\u0434\u0438\u044F","\u041A\u0441\u0435\u043D\u0438\u044F","\u041B\u0430\u0434\u0430","\u041B\u0430\u0440\u0438\u0441\u0430","\u041B\u0438\u0434\u0438\u044F","\u041B\u0438\u043B\u0438\u044F","\u041B\u044E\u0431\u043E\u0432\u044C","\u041B\u044E\u0434\u043C\u0438\u043B\u0430","\u041C\u0430\u0440\u0433\u0430\u0440\u0438\u0442\u0430","\u041C\u0430\u0440\u0438\u043D\u0430","\u041C\u0430\u0440\u0438\u044F","\u041C\u0430\u0440\u0444\u0430","\u041C\u0430\u0442\u0440\u0451\u043D\u0430","\u041C\u0438\u043B\u0438\u0446\u0430","\u041C\u0438\u0440\u043E\u0441\u043B\u0430\u0432\u0430","\u041D\u0430\u0434\u0435\u0436\u0434\u0430","\u041D\u0430\u0442\u0430\u043B\u044C\u044F","\u041D\u0438\u043D\u0430","\u041D\u043E\u043D\u043D\u0430","\u041E\u043A\u0441\u0430\u043D\u0430","\u041E\u043A\u0442\u044F\u0431\u0440\u0438\u043D\u0430","\u041E\u043B\u0438\u043C\u043F\u0438\u0430\u0434\u0430","\u041E\u043B\u044C\u0433\u0430","\u041F\u0430\u0432\u043B\u0438\u043D\u0430","\u041F\u0435\u043B\u0430\u0433\u0435\u044F","\u041F\u0438\u043D\u043D\u0430","\u041F\u043E\u043B\u0438\u043D\u0430","\u041F\u0440\u0430\u0441\u043A\u043E\u0432\u044C\u044F","\u0420\u0430\u0434\u0430","\u0420\u0430\u0438\u0441\u0430","\u0420\u0435\u0433\u0438\u043D\u0430","\u0420\u0438\u043C\u043C\u0430","\u0420\u043E\u0433\u043D\u0435\u0434\u0430","\u0421\u0432\u0435\u0442\u043B\u0430\u043D\u0430","\u0421\u0435\u0440\u0430\u0444\u0438\u043C\u0430","\u0421\u043D\u0435\u0436\u0430\u043D\u0430","\u0421\u043E\u0444\u0438\u044F","\u0422\u0430\u0438\u0441\u0438\u044F","\u0422\u0430\u043C\u0430\u0440\u0430","\u0422\u0430\u0442\u044C\u044F\u043D\u0430","\u0423\u043B\u0438\u0442\u0430","\u0423\u043B\u044C\u044F\u043D\u0430","\u0423\u0440\u0441\u0443\u043B\u0430","\u0424\u0430\u0438\u043D\u0430","\u0424\u0435\u0432\u0440\u043E\u043D\u0438\u044F","\u0424\u0451\u043A\u043B\u0430","\u0424\u0435\u043E\u0434\u043E\u0440\u0430","\u0426\u0435\u043B\u0435\u0441\u0442\u0438\u043D\u0430","\u042E\u043B\u0438\u044F","\u042F\u043D\u0430","\u042F\u0440\u043E\u0441\u043B\u0430\u0432\u0430"],ea=["\u0410\u0432\u0434\u0435\u0439","\u0410\u0432\u043A\u0441\u0435\u043D\u0442\u0438\u0439","\u0410\u0433\u0430\u043F\u0438\u0442","\u0410\u0433\u0430\u0444\u043E\u043D","\u0410\u043A\u0430\u043A\u0438\u0439","\u0410\u043B\u0435\u043A\u0441\u0430\u043D\u0434\u0440","\u0410\u043B\u0435\u043A\u0441\u0435\u0439","\u0410\u043B\u044C\u0431\u0435\u0440\u0442","\u0410\u043B\u044C\u0432\u0438\u0430\u043D","\u0410\u043D\u0430\u0442\u043E\u043B\u0438\u0439","\u0410\u043D\u0434\u0440\u0435\u0439","\u0410\u043D\u0438\u043A\u0438\u0442\u0430","\u0410\u043D\u0442\u043E\u043D","\u0410\u043D\u0442\u043E\u043D\u0438\u043D","\u0410\u043D\u0444\u0438\u043C","\u0410\u0440\u0438\u0441\u0442\u0430\u0440\u0445","\u0410\u0440\u043A\u0430\u0434\u0438\u0439","\u0410\u0440\u0441\u0435\u043D\u0438\u0439","\u0410\u0440\u0442\u0451\u043C","\u0410\u0440\u0442\u0435\u043C\u0438\u0439","\u0410\u0440\u0442\u0443\u0440","\u0410\u0440\u0445\u0438\u043F\u043F","\u0410\u0444\u0430\u043D\u0430\u0441\u0438\u0439","\u0411\u043E\u0433\u0434\u0430\u043D","\u0411\u043E\u0440\u0438\u0441","\u0412\u0430\u0432\u0438\u043B\u0430","\u0412\u0430\u0434\u0438\u043C","\u0412\u0430\u043B\u0435\u043D\u0442\u0438\u043D","\u0412\u0430\u043B\u0435\u0440\u0438\u0439","\u0412\u0430\u043B\u0435\u0440\u044C\u044F\u043D","\u0412\u0430\u0440\u043B\u0430\u043C","\u0412\u0430\u0440\u0441\u043E\u043D\u043E\u0444\u0438\u0439","\u0412\u0430\u0440\u0444\u043E\u043B\u043E\u043C\u0435\u0439","\u0412\u0430\u0441\u0438\u043B\u0438\u0439","\u0412\u0435\u043D\u0435\u0434\u0438\u043A\u0442","\u0412\u0435\u043D\u0438\u0430\u043C\u0438\u043D","\u0412\u0438\u043A\u0435\u043D\u0442\u0438\u0439","\u0412\u0438\u043A\u0442\u043E\u0440","\u0412\u0438\u0441\u0441\u0430\u0440\u0438\u043E\u043D","\u0412\u0438\u0442\u0430\u043B\u0438\u0439","\u0412\u043B\u0430\u0434\u0438\u043C\u0438\u0440","\u0412\u043B\u0430\u0434\u0438\u0441\u043B\u0430\u0432","\u0412\u043B\u0430\u0434\u043B\u0435\u043D","\u0412\u043B\u0430\u0441","\u0412\u0441\u0435\u0432\u043E\u043B\u043E\u0434","\u0412\u044F\u0447\u0435\u0441\u043B\u0430\u0432","\u0413\u0430\u0432\u0440\u0438\u0438\u043B","\u0413\u0430\u043B\u0430\u043A\u0442\u0438\u043E\u043D","\u0413\u0435\u043B\u0430\u0441\u0438\u0439","\u0413\u0435\u043D\u043D\u0430\u0434\u0438\u0439","\u0413\u0435\u043E\u0440\u0433\u0438\u0439","\u0413\u0435\u0440\u0430\u0441\u0438\u043C","\u0413\u0435\u0440\u043C\u0430\u043D","\u0413\u0435\u0440\u043C\u0430\u043D\u043D","\u0413\u043B\u0435\u0431","\u0413\u043E\u0440\u0434\u0435\u0439","\u0413\u0440\u0438\u0433\u043E\u0440\u0438\u0439","\u0414\u0430\u043D\u0430\u043A\u0442","\u0414\u0430\u043D\u0438\u0438\u043B","\u0414\u0435\u043C\u0438\u0434","\u0414\u0435\u043C\u044C\u044F\u043D","\u0414\u0435\u043D\u0438\u0441","\u0414\u043C\u0438\u0442\u0440\u0438\u0439","\u0414\u043E\u0431\u0440\u044B\u043D\u044F","\u0414\u043E\u043D\u0430\u0442","\u0414\u043E\u0440\u043E\u0444\u0435\u0439","\u0415\u0432\u0433\u0435\u043D\u0438\u0439","\u0415\u0432\u0433\u0440\u0430\u0444","\u0415\u0432\u0434\u043E\u043A\u0438\u043C","\u0415\u0432\u0441\u0435\u0439","\u0415\u0432\u0441\u0442\u0430\u0444\u0438\u0439","\u0415\u0433\u043E\u0440","\u0415\u043C\u0435\u043B\u044C\u044F\u043D","\u0415\u0440\u0435\u043C\u0435\u0439","\u0415\u0440\u043C\u043E\u043B\u0430\u0439","\u0415\u0440\u043E\u0444\u0435\u0439","\u0415\u0444\u0438\u043C","\u0415\u0444\u0440\u0435\u043C","\u0416\u0434\u0430\u043D","\u0417\u0438\u043D\u043E\u0432\u0438\u0439","\u0418\u0430\u043A\u0438\u043D\u0444","\u0418\u0432\u0430\u043D","\u0418\u0433\u043D\u0430\u0442\u0438\u0439","\u0418\u0433\u043E\u0440\u044C","\u0418\u0437\u043E\u0442","\u0418\u043B\u044C\u044F","\u0418\u043D\u043D\u043E\u043A\u0435\u043D\u0442\u0438\u0439","\u0418\u0440\u0430\u043A\u043B\u0438\u0439","\u0418\u0440\u0438\u043D\u0435\u0439","\u0418\u0441\u0438\u0434\u043E\u0440","\u0418\u0443\u0434\u0430","\u0418\u0443\u043B\u0438\u0430\u043D","\u041A\u0430\u043F\u0438\u0442\u043E\u043D","\u041A\u0438\u043C","\u041A\u0438\u0440","\u041A\u0438\u0440\u0438\u043B\u043B","\u041A\u043B\u0438\u043C\u0435\u043D\u0442","\u041A\u043E\u043D\u0434\u0440\u0430\u0442","\u041A\u043E\u043D\u043E\u043D","\u041A\u043E\u043D\u0441\u0442\u0430\u043D\u0442\u0438\u043D","\u041A\u043E\u0440\u043D\u0438\u043B\u0438\u0439","\u041A\u0443\u0437\u044C\u043C\u0430","\u041A\u0443\u043F\u0440\u0438\u044F\u043D","\u041B\u0430\u0432\u0440\u0435\u043D\u0442\u0438\u0439","\u041B\u0435\u0432","\u041B\u0435\u043E\u043D\u0438\u0434","\u041B\u0435\u043E\u043D\u0442\u0438\u0439","\u041B\u043E\u0433\u0433\u0438\u043D","\u041B\u0443\u043A\u0430","\u041B\u0443\u043A\u0438\u0439","\u041B\u0443\u043A\u044C\u044F\u043D","\u041C\u0430\u0433\u0438\u0441\u0442\u0440\u0438\u0430\u043D","\u041C\u0430\u043A\u0430\u0440","\u041C\u0430\u043A\u0441\u0438\u043C","\u041C\u0430\u043C\u043E\u043D\u0442","\u041C\u0430\u0440\u043A","\u041C\u0430\u0440\u0442\u044B\u043D","\u041C\u0430\u0442\u0432\u0435\u0439","\u041C\u0435\u043B\u0435\u043D\u0442\u0438\u0439","\u041C\u0438\u043D\u0430","\u041C\u0438\u0440\u043E\u043D","\u041C\u0438\u0440\u043E\u0441\u043B\u0430\u0432","\u041C\u0438\u0442\u0440\u043E\u0444\u0430\u043D","\u041C\u0438\u0445\u0430\u0438\u043B","\u041C\u0441\u0442\u0438\u0441\u043B\u0430\u0432","\u041D\u0430\u0437\u0430\u0440","\u041D\u0435\u0441\u0442\u043E\u0440","\u041D\u0438\u043A\u0430\u043D\u0434\u0440","\u041D\u0438\u043A\u0430\u043D\u043E\u0440","\u041D\u0438\u043A\u0438\u0442\u0430","\u041D\u0438\u043A\u0438\u0444\u043E\u0440","\u041D\u0438\u043A\u043E\u0434\u0438\u043C","\u041D\u0438\u043A\u043E\u043B\u0430\u0439","\u041D\u0438\u043A\u043E\u043D","\u041E\u043B\u0435\u0433","\u041E\u043D\u0438\u0441\u0438\u043C","\u041E\u043D\u0443\u0444\u0440\u0438\u0439","\u041F\u0430\u0432\u0435\u043B","\u041F\u0430\u0438\u0441\u0438\u0439","\u041F\u0430\u043D\u043A\u0440\u0430\u0442\u0438\u0439","\u041F\u0430\u043D\u0442\u0435\u043B\u0435\u0439\u043C\u043E\u043D","\u041F\u0430\u0440\u0444\u0435\u043D\u0438\u0439","\u041F\u0430\u0444\u043D\u0443\u0442\u0438\u0439","\u041F\u0430\u0445\u043E\u043C\u0438\u0439","\u041F\u0451\u0442\u0440","\u041F\u043B\u0430\u0442\u043E\u043D","\u041F\u043E\u043B\u0438\u043A\u0430\u0440\u043F","\u041F\u043E\u0440\u0444\u0438\u0440\u0438\u0439","\u041F\u043E\u0442\u0430\u043F","\u041F\u0440\u043E\u0432","\u041F\u0440\u043E\u043A\u043E\u043F\u0438\u0439","\u041F\u0440\u043E\u0442\u0430\u0441\u0438\u0439","\u041F\u0440\u043E\u0445\u043E\u0440","\u0420\u0430\u0437\u0443\u043C\u043D\u0438\u043A","\u0420\u043E\u0434\u0438\u043E\u043D","\u0420\u043E\u0434\u043E\u0441\u043B\u0430\u0432","\u0420\u043E\u043C\u0430\u043D","\u0420\u043E\u0441\u0442\u0438\u0441\u043B\u0430\u0432","\u0420\u0443\u0441\u043B\u0430\u043D","\u0421\u0430\u0432\u0432\u0430","\u0421\u0430\u0432\u0435\u043B\u0438\u0439","\u0421\u0430\u043C\u0443\u0438\u043B","\u0421\u0432\u044F\u0442\u043E\u043F\u043E\u043B\u043A","\u0421\u0432\u044F\u0442\u043E\u0441\u043B\u0430\u0432","\u0421\u0435\u0432\u0430\u0441\u0442\u044C\u044F\u043D","\u0421\u0435\u043C\u0451\u043D","\u0421\u0435\u0440\u0430\u0444\u0438\u043C","\u0421\u0435\u0440\u0433\u0435\u0439","\u0421\u0438\u043B\u0430","\u0421\u0438\u043B\u044C\u0432\u0435\u0441\u0442\u0440","\u0421\u043E\u0437\u043E\u043D","\u0421\u043E\u0444\u0440\u043E\u043D","\u0421\u043F\u0438\u0440\u0438\u0434\u043E\u043D","\u0421\u0442\u0430\u043D\u0438\u0441\u043B\u0430\u0432","\u0421\u0442\u0435\u043F\u0430\u043D","\u0422\u0430\u0440\u0430\u0441","\u0422\u0438\u043C\u043E\u0444\u0435\u0439","\u0422\u0438\u043C\u0443\u0440","\u0422\u0438\u0442","\u0422\u0438\u0445\u043E\u043D","\u0422\u0440\u0438\u0444\u043E\u043D","\u0422\u0440\u043E\u0444\u0438\u043C","\u0423\u0440\u0431\u0430\u043D","\u0424\u0430\u0434\u0434\u0435\u0439","\u0424\u0451\u0434\u043E\u0440","\u0424\u0435\u0434\u043E\u0441\u0435\u0439","\u0424\u0435\u0434\u043E\u0442","\u0424\u0435\u043B\u0438\u043A\u0441","\u0424\u0435\u043E\u043A\u0442\u0438\u0441\u0442","\u0424\u0438\u043B\u0430\u0442","\u0424\u0438\u043B\u0438\u043C\u043E\u043D","\u0424\u0438\u043B\u0438\u043F\u043F","\u0424\u0438\u0440\u0441","\u0424\u043E\u043A\u0430","\u0424\u043E\u043C\u0430","\u0424\u043E\u0442\u0438\u0439","\u0424\u0440\u043E\u043B","\u0425\u0430\u0440\u0438\u0442\u043E\u043D","\u0425\u0440\u0438\u0441\u0430\u043D\u0444","\u0425\u0440\u0438\u0441\u0442\u043E\u0444\u043E\u0440"];function eo(){let t=Math.random()>.5?Zn:ea;return t[Math.floor(gt(0,t.length))]}var Lr={};Xn(Lr,{afterMain:()=>no,afterRead:()=>io,afterWrite:()=>fo,applyStyles:()=>yt,arrow:()=>Sr,auto:()=>Ut,basePlacements:()=>Ne,beforeMain:()=>oo,beforeRead:()=>to,beforeWrite:()=>ao,bottom:()=>G,clippingParents:()=>ei,computeStyles:()=>Et,createPopper:()=>Qt,createPopperBase:()=>bo,createPopperLite:()=>yo,detectOverflow:()=>re,end:()=>Be,eventListeners:()=>xt,flip:()=>Or,hide:()=>Cr,left:()=>Y,main:()=>so,modifierPhases:()=>ri,offset:()=>Nr,placements:()=>Yt,popper:()=>ze,popperGenerator:()=>rt,popperOffsets:()=>wt,preventOverflow:()=>Rr,read:()=>ro,reference:()=>ti,right:()=>q,start:()=>be,top:()=>U,variationPlacements:()=>xr,viewport:()=>Kt,write:()=>lo});var U="top",G="bottom",q="right",Y="left",Ut="auto",Ne=[U,G,q,Y],be="start",Be="end",ei="clippingParents",Kt="viewport",ze="popper",ti="reference",xr=Ne.reduce(function(t,e){return t.concat([e+"-"+be,e+"-"+Be])},[]),Yt=[].concat(Ne,[Ut]).reduce(function(t,e){return t.concat([e,e+"-"+be,e+"-"+Be])},[]),to="beforeRead",ro="read",io="afterRead",oo="beforeMain",so="main",no="afterMain",ao="beforeWrite",lo="write",fo="afterWrite",ri=[to,ro,io,oo,so,no,ao,lo,fo];function J(t){return t?(t.nodeName||"").toLowerCase():null}function z(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ye(t){var e=z(t).Element;return t instanceof e||t instanceof Element}function X(t){var e=z(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function bt(t){if(typeof ShadowRoot>"u")return!1;var e=z(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ta(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var i=e.styles[r]||{},s=e.attributes[r]||{},a=e.elements[r];!X(a)||!J(a)||(Object.assign(a.style,i),Object.keys(s).forEach(function(l){var h=s[l];h===!1?a.removeAttribute(l):a.setAttribute(l,h===!0?"":h)}))})}function ra(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(i){var s=e.elements[i],a=e.attributes[i]||{},l=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:r[i]),h=l.reduce(function(_,y){return _[y]="",_},{});!X(s)||!J(s)||(Object.assign(s.style,h),Object.keys(a).forEach(function(_){s.removeAttribute(_)}))})}}var yt={name:"applyStyles",enabled:!0,phase:"write",fn:ta,effect:ra,requires:["computeStyles"]};function Q(t){return t.split("-")[0]}var _e=Math.max,Ge=Math.min,Re=Math.round;function ce(t,e){e===void 0&&(e=!1);var r=t.getBoundingClientRect(),i=1,s=1;if(X(t)&&e){var a=t.offsetHeight,l=t.offsetWidth;l>0&&(i=Re(r.width)/l||1),a>0&&(s=Re(r.height)/a||1)}return{width:r.width/i,height:r.height/s,top:r.top/s,right:r.right/i,bottom:r.bottom/s,left:r.left/i,x:r.left/i,y:r.top/s}}function Xe(t){var e=ce(t),r=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:i}}function qt(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&bt(r)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function te(t){return z(t).getComputedStyle(t)}function ii(t){return["table","td","th"].indexOf(J(t))>=0}function Z(t){return((ye(t)?t.ownerDocument:t.document)||window.document).documentElement}function Le(t){return J(t)==="html"?t:t.assignedSlot||t.parentNode||(bt(t)?t.host:null)||Z(t)}function co(t){return!X(t)||te(t).position==="fixed"?null:t.offsetParent}function ia(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&X(t)){var i=te(t);if(i.position==="fixed")return null}var s=Le(t);for(bt(s)&&(s=s.host);X(s)&&["html","body"].indexOf(J(s))<0;){var a=te(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function ge(t){for(var e=z(t),r=co(t);r&&ii(r)&&te(r).position==="static";)r=co(r);return r&&(J(r)==="html"||J(r)==="body"&&te(r).position==="static")?e:r||ia(t)||e}function Je(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Qe(t,e,r){return _e(t,Ge(e,r))}function uo(t,e,r){var i=Qe(t,e,r);return i>r?r:i}function zt(){return{top:0,right:0,bottom:0,left:0}}function Gt(t){return Object.assign({},zt(),t)}function Xt(t,e){return e.reduce(function(r,i){return r[i]=t,r},{})}var oa=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,Gt(typeof e!="number"?e:Xt(e,Ne))};function sa(t){var e,r=t.state,i=t.name,s=t.options,a=r.elements.arrow,l=r.modifiersData.popperOffsets,h=Q(r.placement),_=Je(h),y=[Y,q].indexOf(h)>=0,p=y?"height":"width";if(!(!a||!l)){var w=oa(s.padding,r),A=Xe(a),x=_==="y"?U:Y,C=_==="y"?G:q,T=r.rects.reference[p]+r.rects.reference[_]-l[_]-r.rects.popper[p],R=l[_]-r.rects.reference[_],B=ge(a),j=B?_==="y"?B.clientHeight||0:B.clientWidth||0:0,W=T/2-R/2,D=w[x],M=j-A[p]-w[C],k=j/2-A[p]/2+W,I=Qe(D,k,M),H=_;r.modifiersData[i]=(e={},e[H]=I,e.centerOffset=I-k,e)}}function na(t){var e=t.state,r=t.options,i=r.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||!qt(e.elements.popper,s)||(e.elements.arrow=s))}var Sr={name:"arrow",enabled:!0,phase:"main",fn:sa,effect:na,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ue(t){return t.split("-")[1]}var aa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function la(t){var e=t.x,r=t.y,i=window,s=i.devicePixelRatio||1;return{x:Re(e*s)/s||0,y:Re(r*s)/s||0}}function ho(t){var e,r=t.popper,i=t.popperRect,s=t.placement,a=t.variation,l=t.offsets,h=t.position,_=t.gpuAcceleration,y=t.adaptive,p=t.roundOffsets,w=t.isFixed,A=l.x,x=A===void 0?0:A,C=l.y,T=C===void 0?0:C,R=typeof p=="function"?p({x,y:T}):{x,y:T};x=R.x,T=R.y;var B=l.hasOwnProperty("x"),j=l.hasOwnProperty("y"),W=Y,D=U,M=window;if(y){var k=ge(r),I="clientHeight",H="clientWidth";if(k===z(r)&&(k=Z(r),te(k).position!=="static"&&h==="absolute"&&(I="scrollHeight",H="scrollWidth")),k=k,s===U||(s===Y||s===q)&&a===Be){D=G;var v=w&&k===M&&M.visualViewport?M.visualViewport.height:k[I];T-=v-i.height,T*=_?1:-1}if(s===Y||(s===U||s===G)&&a===Be){W=q;var m=w&&k===M&&M.visualViewport?M.visualViewport.width:k[H];x-=m-i.width,x*=_?1:-1}}var d=Object.assign({position:h},y&&aa),g=p===!0?la({x,y:T}):{x,y:T};if(x=g.x,T=g.y,_){var c;return Object.assign({},d,(c={},c[D]=j?"0":"",c[W]=B?"0":"",c.transform=(M.devicePixelRatio||1)<=1?"translate("+x+"px, "+T+"px)":"translate3d("+x+"px, "+T+"px, 0)",c))}return Object.assign({},d,(e={},e[D]=j?T+"px":"",e[W]=B?x+"px":"",e.transform="",e))}function fa(t){var e=t.state,r=t.options,i=r.gpuAcceleration,s=i===void 0?!0:i,a=r.adaptive,l=a===void 0?!0:a,h=r.roundOffsets,_=h===void 0?!0:h;if(!1)var y;var p={placement:Q(e.placement),variation:ue(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ho(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:_})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ho(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Et={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:fa,data:{}};var Tr={passive:!0};function ca(t){var e=t.state,r=t.instance,i=t.options,s=i.scroll,a=s===void 0?!0:s,l=i.resize,h=l===void 0?!0:l,_=z(e.elements.popper),y=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&y.forEach(function(p){p.addEventListener("scroll",r.update,Tr)}),h&&_.addEventListener("resize",r.update,Tr),function(){a&&y.forEach(function(p){p.removeEventListener("scroll",r.update,Tr)}),h&&_.removeEventListener("resize",r.update,Tr)}}var xt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ca,data:{}};var ua={left:"right",right:"left",bottom:"top",top:"bottom"};function St(t){return t.replace(/left|right|bottom|top/g,function(e){return ua[e]})}var ha={start:"end",end:"start"};function wr(t){return t.replace(/start|end/g,function(e){return ha[e]})}function Ze(t){var e=z(t),r=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:r,scrollTop:i}}function et(t){return ce(Z(t)).left+Ze(t).scrollLeft}function oi(t){var e=z(t),r=Z(t),i=e.visualViewport,s=r.clientWidth,a=r.clientHeight,l=0,h=0;return i&&(s=i.width,a=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(l=i.offsetLeft,h=i.offsetTop)),{width:s,height:a,x:l+et(t),y:h}}function si(t){var e,r=Z(t),i=Ze(t),s=(e=t.ownerDocument)==null?void 0:e.body,a=_e(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),l=_e(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),h=-i.scrollLeft+et(t),_=-i.scrollTop;return te(s||r).direction==="rtl"&&(h+=_e(r.clientWidth,s?s.clientWidth:0)-a),{width:a,height:l,x:h,y:_}}function tt(t){var e=te(t),r=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+i)}function Ar(t){return["html","body","#document"].indexOf(J(t))>=0?t.ownerDocument.body:X(t)&&tt(t)?t:Ar(Le(t))}function He(t,e){var r;e===void 0&&(e=[]);var i=Ar(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=z(i),l=s?[a].concat(a.visualViewport||[],tt(i)?i:[]):i,h=e.concat(l);return s?h:h.concat(He(Le(l)))}function Tt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function da(t){var e=ce(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function po(t,e){return e===Kt?Tt(oi(t)):ye(e)?da(e):Tt(si(Z(t)))}function pa(t){var e=He(Le(t)),r=["absolute","fixed"].indexOf(te(t).position)>=0,i=r&&X(t)?ge(t):t;return ye(i)?e.filter(function(s){return ye(s)&&qt(s,i)&&J(s)!=="body"}):[]}function ni(t,e,r){var i=e==="clippingParents"?pa(t):[].concat(e),s=[].concat(i,[r]),a=s[0],l=s.reduce(function(h,_){var y=po(t,_);return h.top=_e(y.top,h.top),h.right=Ge(y.right,h.right),h.bottom=Ge(y.bottom,h.bottom),h.left=_e(y.left,h.left),h},po(t,a));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Jt(t){var e=t.reference,r=t.element,i=t.placement,s=i?Q(i):null,a=i?ue(i):null,l=e.x+e.width/2-r.width/2,h=e.y+e.height/2-r.height/2,_;switch(s){case U:_={x:l,y:e.y-r.height};break;case G:_={x:l,y:e.y+e.height};break;case q:_={x:e.x+e.width,y:h};break;case Y:_={x:e.x-r.width,y:h};break;default:_={x:e.x,y:e.y}}var y=s?Je(s):null;if(y!=null){var p=y==="y"?"height":"width";switch(a){case be:_[y]=_[y]-(e[p]/2-r[p]/2);break;case Be:_[y]=_[y]+(e[p]/2-r[p]/2);break;default:}}return _}function re(t,e){e===void 0&&(e={});var r=e,i=r.placement,s=i===void 0?t.placement:i,a=r.boundary,l=a===void 0?ei:a,h=r.rootBoundary,_=h===void 0?Kt:h,y=r.elementContext,p=y===void 0?ze:y,w=r.altBoundary,A=w===void 0?!1:w,x=r.padding,C=x===void 0?0:x,T=Gt(typeof C!="number"?C:Xt(C,Ne)),R=p===ze?ti:ze,B=t.rects.popper,j=t.elements[A?R:p],W=ni(ye(j)?j:j.contextElement||Z(t.elements.popper),l,_),D=ce(t.elements.reference),M=Jt({reference:D,element:B,strategy:"absolute",placement:s}),k=Tt(Object.assign({},B,M)),I=p===ze?k:D,H={top:W.top-I.top+T.top,bottom:I.bottom-W.bottom+T.bottom,left:W.left-I.left+T.left,right:I.right-W.right+T.right},v=t.modifiersData.offset;if(p===ze&&v){var m=v[s];Object.keys(H).forEach(function(d){var g=[q,G].indexOf(d)>=0?1:-1,c=[U,G].indexOf(d)>=0?"y":"x";H[d]+=m[c]*g})}return H}function ai(t,e){e===void 0&&(e={});var r=e,i=r.placement,s=r.boundary,a=r.rootBoundary,l=r.padding,h=r.flipVariations,_=r.allowedAutoPlacements,y=_===void 0?Yt:_,p=ue(i),w=p?h?xr:xr.filter(function(C){return ue(C)===p}):Ne,A=w.filter(function(C){return y.indexOf(C)>=0});A.length===0&&(A=w);var x=A.reduce(function(C,T){return C[T]=re(t,{placement:T,boundary:s,rootBoundary:a,padding:l})[Q(T)],C},{});return Object.keys(x).sort(function(C,T){return x[C]-x[T]})}function ma(t){if(Q(t)===Ut)return[];var e=St(t);return[wr(t),e,wr(e)]}function _a(t){var e=t.state,r=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var s=r.mainAxis,a=s===void 0?!0:s,l=r.altAxis,h=l===void 0?!0:l,_=r.fallbackPlacements,y=r.padding,p=r.boundary,w=r.rootBoundary,A=r.altBoundary,x=r.flipVariations,C=x===void 0?!0:x,T=r.allowedAutoPlacements,R=e.options.placement,B=Q(R),j=B===R,W=_||(j||!C?[St(R)]:ma(R)),D=[R].concat(W).reduce(function(F,V){return F.concat(Q(V)===Ut?ai(e,{placement:V,boundary:p,rootBoundary:w,padding:y,flipVariations:C,allowedAutoPlacements:T}):V)},[]),M=e.rects.reference,k=e.rects.popper,I=new Map,H=!0,v=D[0],m=0;m<D.length;m++){var d=D[m],g=Q(d),c=ue(d)===be,o=[U,G].indexOf(g)>=0,n=o?"width":"height",f=re(e,{placement:d,boundary:p,rootBoundary:w,altBoundary:A,padding:y}),u=o?c?q:Y:c?G:U;M[n]>k[n]&&(u=St(u));var b=St(u),S=[];if(a&&S.push(f[g]<=0),h&&S.push(f[u]<=0,f[b]<=0),S.every(function(F){return F})){v=d,H=!1;break}I.set(d,S)}if(H)for(var N=C?3:1,O=function(V){var ae=D.find(function($e){var le=I.get($e);if(le)return le.slice(0,V).every(function(oe){return oe})});if(ae)return v=ae,"break"},$=N;$>0;$--){var K=O($);if(K==="break")break}e.placement!==v&&(e.modifiersData[i]._skip=!0,e.placement=v,e.reset=!0)}}var Or={name:"flip",enabled:!0,phase:"main",fn:_a,requiresIfExists:["offset"],data:{_skip:!1}};function mo(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function _o(t){return[U,q,G,Y].some(function(e){return t[e]>=0})}function ga(t){var e=t.state,r=t.name,i=e.rects.reference,s=e.rects.popper,a=e.modifiersData.preventOverflow,l=re(e,{elementContext:"reference"}),h=re(e,{altBoundary:!0}),_=mo(l,i),y=mo(h,s,a),p=_o(_),w=_o(y);e.modifiersData[r]={referenceClippingOffsets:_,popperEscapeOffsets:y,isReferenceHidden:p,hasPopperEscaped:w},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":w})}var Cr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ga};function va(t,e,r){var i=Q(t),s=[Y,U].indexOf(i)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,l=a[0],h=a[1];return l=l||0,h=(h||0)*s,[Y,q].indexOf(i)>=0?{x:h,y:l}:{x:l,y:h}}function ba(t){var e=t.state,r=t.options,i=t.name,s=r.offset,a=s===void 0?[0,0]:s,l=Yt.reduce(function(p,w){return p[w]=va(w,e.rects,a),p},{}),h=l[e.placement],_=h.x,y=h.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=_,e.modifiersData.popperOffsets.y+=y),e.modifiersData[i]=l}var Nr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ba};function ya(t){var e=t.state,r=t.name;e.modifiersData[r]=Jt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var wt={name:"popperOffsets",enabled:!0,phase:"read",fn:ya,data:{}};function li(t){return t==="x"?"y":"x"}function Ea(t){var e=t.state,r=t.options,i=t.name,s=r.mainAxis,a=s===void 0?!0:s,l=r.altAxis,h=l===void 0?!1:l,_=r.boundary,y=r.rootBoundary,p=r.altBoundary,w=r.padding,A=r.tether,x=A===void 0?!0:A,C=r.tetherOffset,T=C===void 0?0:C,R=re(e,{boundary:_,rootBoundary:y,padding:w,altBoundary:p}),B=Q(e.placement),j=ue(e.placement),W=!j,D=Je(B),M=li(D),k=e.modifiersData.popperOffsets,I=e.rects.reference,H=e.rects.popper,v=typeof T=="function"?T(Object.assign({},e.rects,{placement:e.placement})):T,m=typeof v=="number"?{mainAxis:v,altAxis:v}:Object.assign({mainAxis:0,altAxis:0},v),d=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,g={x:0,y:0};if(!!k){if(a){var c,o=D==="y"?U:Y,n=D==="y"?G:q,f=D==="y"?"height":"width",u=k[D],b=u+R[o],S=u-R[n],N=x?-H[f]/2:0,O=j===be?I[f]:H[f],$=j===be?-H[f]:-I[f],K=e.elements.arrow,F=x&&K?Xe(K):{width:0,height:0},V=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:zt(),ae=V[o],$e=V[n],le=Qe(0,I[f],F[f]),oe=W?I[f]/2-N-le-ae-m.mainAxis:O-le-ae-m.mainAxis,Ht=W?-I[f]/2+N+le+$e+m.mainAxis:$+le+$e+m.mainAxis,_t=e.elements.arrow&&ge(e.elements.arrow),vr=_t?D==="y"?_t.clientTop||0:_t.clientLeft||0:0,br=(c=d==null?void 0:d[D])!=null?c:0,fe=u+oe-br-vr,yr=u+Ht-br,Ce=Qe(x?Ge(b,fe):b,u,x?_e(S,yr):S);k[D]=Ce,g[D]=Ce-u}if(h){var jt,Er=D==="x"?U:Y,Wt=D==="x"?G:q,me=k[M],qe=M==="y"?"height":"width",Vt=me+R[Er],ve=me-R[Wt],Zr=[U,Y].indexOf(B)!==-1,Gi=(jt=d==null?void 0:d[M])!=null?jt:0,Xi=Zr?Vt:me-I[qe]-H[qe]-Gi+m.altAxis,Ji=Zr?me+I[qe]+H[qe]-Gi-m.altAxis:ve,Qi=x&&Zr?uo(Xi,me,Ji):Qe(x?Xi:Vt,me,x?Ji:ve);k[M]=Qi,g[M]=Qi-me}e.modifiersData[i]=g}}var Rr={name:"preventOverflow",enabled:!0,phase:"main",fn:Ea,requiresIfExists:["offset"]};function fi(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function ci(t){return t===z(t)||!X(t)?Ze(t):fi(t)}function xa(t){var e=t.getBoundingClientRect(),r=Re(e.width)/t.offsetWidth||1,i=Re(e.height)/t.offsetHeight||1;return r!==1||i!==1}function ui(t,e,r){r===void 0&&(r=!1);var i=X(e),s=X(e)&&xa(e),a=Z(e),l=ce(t,s),h={scrollLeft:0,scrollTop:0},_={x:0,y:0};return(i||!i&&!r)&&((J(e)!=="body"||tt(a))&&(h=ci(e)),X(e)?(_=ce(e,!0),_.x+=e.clientLeft,_.y+=e.clientTop):a&&(_.x=et(a))),{x:l.left+h.scrollLeft-_.x,y:l.top+h.scrollTop-_.y,width:l.width,height:l.height}}function Sa(t){var e=new Map,r=new Set,i=[];t.forEach(function(a){e.set(a.name,a)});function s(a){r.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(h){if(!r.has(h)){var _=e.get(h);_&&s(_)}}),i.push(a)}return t.forEach(function(a){r.has(a.name)||s(a)}),i}function hi(t){var e=Sa(t);return ri.reduce(function(r,i){return r.concat(e.filter(function(s){return s.phase===i}))},[])}function di(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function pi(t){var e=t.reduce(function(r,i){var s=r[i.name];return r[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,r},{});return Object.keys(e).map(function(r){return e[r]})}var go={placement:"bottom",modifiers:[],strategy:"absolute"};function vo(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function rt(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,i=r===void 0?[]:r,s=e.defaultOptions,a=s===void 0?go:s;return function(h,_,y){y===void 0&&(y=a);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},go,a),modifiersData:{},elements:{reference:h,popper:_},attributes:{},styles:{}},w=[],A=!1,x={state:p,setOptions:function(B){var j=typeof B=="function"?B(p.options):B;T(),p.options=Object.assign({},a,p.options,j),p.scrollParents={reference:ye(h)?He(h):h.contextElement?He(h.contextElement):[],popper:He(_)};var W=hi(pi([].concat(i,p.options.modifiers)));if(p.orderedModifiers=W.filter(function(d){return d.enabled}),!1){var D;if(getBasePlacement(p.options.placement)===auto)var M;var k,I,H,v,m}return C(),x.update()},forceUpdate:function(){if(!A){var B=p.elements,j=B.reference,W=B.popper;if(!!vo(j,W)){p.rects={reference:ui(j,ge(W),p.options.strategy==="fixed"),popper:Xe(W)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(d){return p.modifiersData[d.name]=Object.assign({},d.data)});for(var D=0,M=0;M<p.orderedModifiers.length;M++){if(p.reset===!0){p.reset=!1,M=-1;continue}var k=p.orderedModifiers[M],I=k.fn,H=k.options,v=H===void 0?{}:H,m=k.name;typeof I=="function"&&(p=I({state:p,options:v,name:m,instance:x})||p)}}}},update:di(function(){return new Promise(function(R){x.forceUpdate(),R(p)})}),destroy:function(){T(),A=!0}};if(!vo(h,_))return x;x.setOptions(y).then(function(R){!A&&y.onFirstUpdate&&y.onFirstUpdate(R)});function C(){p.orderedModifiers.forEach(function(R){var B=R.name,j=R.options,W=j===void 0?{}:j,D=R.effect;if(typeof D=="function"){var M=D({state:p,name:B,instance:x,options:W}),k=function(){};w.push(M||k)}})}function T(){w.forEach(function(R){return R()}),w=[]}return x}}var bo=rt();var Ta=[xt,wt,Et,yt],yo=rt({defaultModifiers:Ta});var wa=[xt,wt,Et,yt,Nr,Or,Rr,Sr,Cr],Qt=rt({defaultModifiers:wa});var Aa=1e6,Oa=1e3,Ti="transitionend",Ca=t=>t==null?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),Na=t=>{do t+=Math.floor(Math.random()*Aa);while(document.getElementById(t));return t},hs=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let r=t.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),e=r&&r!=="#"?r.trim():null}return e},Ri=t=>{let e=hs(t);return e&&document.querySelector(e)?e:null},We=t=>{let e=hs(t);return e?document.querySelector(e):null},Ra=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:r}=window.getComputedStyle(t),i=Number.parseFloat(e),s=Number.parseFloat(r);return!i&&!s?0:(e=e.split(",")[0],r=r.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(r))*Oa)},ds=t=>{t.dispatchEvent(new Event(Ti))},ct=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Ve=t=>ct(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(t):null,Te=(t,e,r)=>{Object.keys(r).forEach(i=>{let s=r[i],a=e[i],l=a&&ct(a)?"element":Ca(a);if(!new RegExp(s).test(l))throw new TypeError(`${t.toUpperCase()}: Option "${i}" provided type "${l}" but expected type "${s}".`)})},ar=t=>!ct(t)||t.getClientRects().length===0?!1:getComputedStyle(t).getPropertyValue("visibility")==="visible",lt=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",ps=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){let e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?ps(t.parentNode):null},Br=()=>{},Nt=t=>{t.offsetHeight},ms=()=>{let{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},mi=[],La=t=>{document.readyState==="loading"?(mi.length||document.addEventListener("DOMContentLoaded",()=>{mi.forEach(e=>e())}),mi.push(t)):t()},ie=()=>document.documentElement.dir==="rtl",he=t=>{La(()=>{let e=ms();if(e){let r=t.NAME,i=e.fn[r];e.fn[r]=t.jQueryInterface,e.fn[r].Constructor=t,e.fn[r].noConflict=()=>(e.fn[r]=i,t.jQueryInterface)}})},at=t=>{typeof t=="function"&&t()},_s=(t,e,r=!0)=>{if(!r){at(t);return}let i=5,s=Ra(e)+i,a=!1,l=({target:h})=>{h===e&&(a=!0,e.removeEventListener(Ti,l),at(t))};e.addEventListener(Ti,l),setTimeout(()=>{a||ds(e)},s)},gs=(t,e,r,i)=>{let s=t.indexOf(e);if(s===-1)return t[!r&&i?t.length-1:0];let a=t.length;return s+=r?1:-1,i&&(s=(s+a)%a),t[Math.max(0,Math.min(s,a-1))]},Pa=/[^.]*(?=\..*)\.|.*/,Da=/\..*/,ka=/::\d+$/,_i={},Eo=1,Ia={mouseenter:"mouseover",mouseleave:"mouseout"},Ma=/^(mouseenter|mouseleave)/i,vs=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function bs(t,e){return e&&`${e}::${Eo++}`||t.uidEvent||Eo++}function ys(t){let e=bs(t);return t.uidEvent=e,_i[e]=_i[e]||{},_i[e]}function $a(t,e){return function r(i){return i.delegateTarget=t,r.oneOff&&E.off(t,i.type,e),e.apply(t,[i])}}function Ba(t,e,r){return function i(s){let a=t.querySelectorAll(e);for(let{target:l}=s;l&&l!==this;l=l.parentNode)for(let h=a.length;h--;)if(a[h]===l)return s.delegateTarget=l,i.oneOff&&E.off(t,s.type,e,r),r.apply(l,[s]);return null}}function Es(t,e,r=null){let i=Object.keys(t);for(let s=0,a=i.length;s<a;s++){let l=t[i[s]];if(l.originalHandler===e&&l.delegationSelector===r)return l}return null}function xs(t,e,r){let i=typeof e=="string",s=i?r:e,a=Ss(t);return vs.has(a)||(a=t),[i,s,a]}function xo(t,e,r,i,s){if(typeof e!="string"||!t)return;if(r||(r=i,i=null),Ma.test(e)){let x=C=>function(T){if(!T.relatedTarget||T.relatedTarget!==T.delegateTarget&&!T.delegateTarget.contains(T.relatedTarget))return C.call(this,T)};i?i=x(i):r=x(r)}let[a,l,h]=xs(e,r,i),_=ys(t),y=_[h]||(_[h]={}),p=Es(y,l,a?r:null);if(p){p.oneOff=p.oneOff&&s;return}let w=bs(l,e.replace(Pa,"")),A=a?Ba(t,r,i):$a(t,r);A.delegationSelector=a?r:null,A.originalHandler=l,A.oneOff=s,A.uidEvent=w,y[w]=A,t.addEventListener(h,A,a)}function wi(t,e,r,i,s){let a=Es(e[r],i,s);!a||(t.removeEventListener(r,a,Boolean(s)),delete e[r][a.uidEvent])}function Ha(t,e,r,i){let s=e[r]||{};Object.keys(s).forEach(a=>{if(a.includes(i)){let l=s[a];wi(t,e,r,l.originalHandler,l.delegationSelector)}})}function Ss(t){return t=t.replace(Da,""),Ia[t]||t}var E={on(t,e,r,i){xo(t,e,r,i,!1)},one(t,e,r,i){xo(t,e,r,i,!0)},off(t,e,r,i){if(typeof e!="string"||!t)return;let[s,a,l]=xs(e,r,i),h=l!==e,_=ys(t),y=e.startsWith(".");if(typeof a<"u"){if(!_||!_[l])return;wi(t,_,l,a,s?r:null);return}y&&Object.keys(_).forEach(w=>{Ha(t,_,w,e.slice(1))});let p=_[l]||{};Object.keys(p).forEach(w=>{let A=w.replace(ka,"");if(!h||e.includes(A)){let x=p[w];wi(t,_,l,x.originalHandler,x.delegationSelector)}})},trigger(t,e,r){if(typeof e!="string"||!t)return null;let i=ms(),s=Ss(e),a=e!==s,l=vs.has(s),h,_=!0,y=!0,p=!1,w=null;return a&&i&&(h=i.Event(e,r),i(t).trigger(h),_=!h.isPropagationStopped(),y=!h.isImmediatePropagationStopped(),p=h.isDefaultPrevented()),l?(w=document.createEvent("HTMLEvents"),w.initEvent(s,_,!0)):w=new CustomEvent(e,{bubbles:_,cancelable:!0}),typeof r<"u"&&Object.keys(r).forEach(A=>{Object.defineProperty(w,A,{get(){return r[A]}})}),p&&w.preventDefault(),y&&t.dispatchEvent(w),w.defaultPrevented&&typeof h<"u"&&h.preventDefault(),w}},je=new Map,sr={set(t,e,r){je.has(t)||je.set(t,new Map);let i=je.get(t);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,r)},get(t,e){return je.has(t)&&je.get(t).get(e)||null},remove(t,e){if(!je.has(t))return;let r=je.get(t);r.delete(e),r.size===0&&je.delete(t)}},ja="5.1.3",de=class{constructor(e){e=Ve(e),!!e&&(this._element=e,sr.set(this._element,this.constructor.DATA_KEY,this))}dispose(){sr.remove(this._element,this.constructor.DATA_KEY),E.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(e=>{this[e]=null})}_queueCallback(e,r,i=!0){_s(e,r,i)}static getInstance(e){return sr.get(Ve(e),this.DATA_KEY)}static getOrCreateInstance(e,r={}){return this.getInstance(e)||new this(e,typeof r=="object"?r:null)}static get VERSION(){return ja}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}},Wr=(t,e="hide")=>{let r=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;E.on(document,r,`[data-bs-dismiss="${i}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),lt(this))return;let a=We(this)||this.closest(`.${i}`);t.getOrCreateInstance(a)[e]()})},Wa="alert",Va="bs.alert",Ts=`.${Va}`,Fa=`close${Ts}`,Ua=`closed${Ts}`,Ka="fade",Ya="show",lr=class extends de{static get NAME(){return Wa}close(){if(E.trigger(this._element,Fa).defaultPrevented)return;this._element.classList.remove(Ya);let r=this._element.classList.contains(Ka);this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),E.trigger(this._element,Ua),this.dispose()}static jQueryInterface(e){return this.each(function(){let r=lr.getOrCreateInstance(this);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e](this)}})}};Wr(lr,"close");he(lr);var qa="button",za="bs.button",Ga=`.${za}`,Xa=".data-api",Ja="active",So='[data-bs-toggle="button"]',Qa=`click${Ga}${Xa}`,fr=class extends de{static get NAME(){return qa}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Ja))}static jQueryInterface(e){return this.each(function(){let r=fr.getOrCreateInstance(this);e==="toggle"&&r[e]()})}};E.on(document,Qa,So,t=>{t.preventDefault();let e=t.target.closest(So);fr.getOrCreateInstance(e).toggle()});he(fr);function To(t){return t==="true"?!0:t==="false"?!1:t===Number(t).toString()?Number(t):t===""||t==="null"?null:t}function gi(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}var ee={setDataAttribute(t,e,r){t.setAttribute(`data-bs-${gi(e)}`,r)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${gi(e)}`)},getDataAttributes(t){if(!t)return{};let e={};return Object.keys(t.dataset).filter(r=>r.startsWith("bs")).forEach(r=>{let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=To(t.dataset[r])}),e},getDataAttribute(t,e){return To(t.getAttribute(`data-bs-${gi(e)}`))},offset(t){let e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position(t){return{top:t.offsetTop,left:t.offsetLeft}}},Za=3,P={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(r=>r.matches(e))},parents(t,e){let r=[],i=t.parentNode;for(;i&&i.nodeType===Node.ELEMENT_NODE&&i.nodeType!==Za;)i.matches(e)&&r.push(i),i=i.parentNode;return r},prev(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return[r];r=r.previousElementSibling}return[]},next(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return[r];r=r.nextElementSibling}return[]},focusableChildren(t){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(r=>`${r}:not([tabindex^="-"])`).join(", ");return this.find(e,t).filter(r=>!lt(r)&&ar(r))}},wo="carousel",el="bs.carousel",ne=`.${el}`,ws=".data-api",tl="ArrowLeft",rl="ArrowRight",il=500,ol=40,Ao={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},sl={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},it="next",ot="prev",nt="left",or="right",nl={[tl]:or,[rl]:nt},al=`slide${ne}`,Oo=`slid${ne}`,ll=`keydown${ne}`,fl=`mouseenter${ne}`,cl=`mouseleave${ne}`,ul=`touchstart${ne}`,hl=`touchmove${ne}`,dl=`touchend${ne}`,pl=`pointerdown${ne}`,ml=`pointerup${ne}`,_l=`dragstart${ne}`,gl=`load${ne}${ws}`,vl=`click${ne}${ws}`,bl="carousel",st="active",yl="slide",El="carousel-item-end",xl="carousel-item-start",Sl="carousel-item-next",Tl="carousel-item-prev",wl="pointer-event",Al=".active",Pr=".active.carousel-item",Ol=".carousel-item",Cl=".carousel-item img",Nl=".carousel-item-next, .carousel-item-prev",Rl=".carousel-indicators",Ll="[data-bs-target]",Pl="[data-bs-slide], [data-bs-slide-to]",Dl='[data-bs-ride="carousel"]',kl="touch",Il="pen",Se=class extends de{constructor(e,r){super(e);this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(r),this._indicatorsElement=P.findOne(Rl,this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return Ao}static get NAME(){return wo}next(){this._slide(it)}nextWhenVisible(){!document.hidden&&ar(this._element)&&this.next()}prev(){this._slide(ot)}pause(e){e||(this._isPaused=!0),P.findOne(Nl,this._element)&&(ds(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(e){this._activeElement=P.findOne(Pr,this._element);let r=this._getItemIndex(this._activeElement);if(e>this._items.length-1||e<0)return;if(this._isSliding){E.one(this._element,Oo,()=>this.to(e));return}if(r===e){this.pause(),this.cycle();return}let i=e>r?it:ot;this._slide(i,this._items[e])}_getConfig(e){return e={...Ao,...ee.getDataAttributes(this._element),...typeof e=="object"?e:{}},Te(wo,e,sl),e}_handleSwipe(){let e=Math.abs(this.touchDeltaX);if(e<=ol)return;let r=e/this.touchDeltaX;this.touchDeltaX=0,!!r&&this._slide(r>0?or:nt)}_addEventListeners(){this._config.keyboard&&E.on(this._element,ll,e=>this._keydown(e)),this._config.pause==="hover"&&(E.on(this._element,fl,e=>this.pause(e)),E.on(this._element,cl,e=>this.cycle(e))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){let e=a=>this._pointerEvent&&(a.pointerType===Il||a.pointerType===kl),r=a=>{e(a)?this.touchStartX=a.clientX:this._pointerEvent||(this.touchStartX=a.touches[0].clientX)},i=a=>{this.touchDeltaX=a.touches&&a.touches.length>1?0:a.touches[0].clientX-this.touchStartX},s=a=>{e(a)&&(this.touchDeltaX=a.clientX-this.touchStartX),this._handleSwipe(),this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(l=>this.cycle(l),il+this._config.interval))};P.find(Cl,this._element).forEach(a=>{E.on(a,_l,l=>l.preventDefault())}),this._pointerEvent?(E.on(this._element,pl,a=>r(a)),E.on(this._element,ml,a=>s(a)),this._element.classList.add(wl)):(E.on(this._element,ul,a=>r(a)),E.on(this._element,hl,a=>i(a)),E.on(this._element,dl,a=>s(a)))}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let r=nl[e.key];r&&(e.preventDefault(),this._slide(r))}_getItemIndex(e){return this._items=e&&e.parentNode?P.find(Ol,e.parentNode):[],this._items.indexOf(e)}_getItemByOrder(e,r){let i=e===it;return gs(this._items,r,i,this._config.wrap)}_triggerSlideEvent(e,r){let i=this._getItemIndex(e),s=this._getItemIndex(P.findOne(Pr,this._element));return E.trigger(this._element,al,{relatedTarget:e,direction:r,from:s,to:i})}_setActiveIndicatorElement(e){if(this._indicatorsElement){let r=P.findOne(Al,this._indicatorsElement);r.classList.remove(st),r.removeAttribute("aria-current");let i=P.find(Ll,this._indicatorsElement);for(let s=0;s<i.length;s++)if(Number.parseInt(i[s].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(e)){i[s].classList.add(st),i[s].setAttribute("aria-current","true");break}}}_updateInterval(){let e=this._activeElement||P.findOne(Pr,this._element);if(!e)return;let r=Number.parseInt(e.getAttribute("data-bs-interval"),10);r?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=r):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(e,r){let i=this._directionToOrder(e),s=P.findOne(Pr,this._element),a=this._getItemIndex(s),l=r||this._getItemByOrder(i,s),h=this._getItemIndex(l),_=Boolean(this._interval),y=i===it,p=y?xl:El,w=y?Sl:Tl,A=this._orderToDirection(i);if(l&&l.classList.contains(st)){this._isSliding=!1;return}if(this._isSliding||this._triggerSlideEvent(l,A).defaultPrevented||!s||!l)return;this._isSliding=!0,_&&this.pause(),this._setActiveIndicatorElement(l),this._activeElement=l;let C=()=>{E.trigger(this._element,Oo,{relatedTarget:l,direction:A,from:a,to:h})};if(this._element.classList.contains(yl)){l.classList.add(w),Nt(l),s.classList.add(p),l.classList.add(p);let T=()=>{l.classList.remove(p,w),l.classList.add(st),s.classList.remove(st,w,p),this._isSliding=!1,setTimeout(C,0)};this._queueCallback(T,s,!0)}else s.classList.remove(st),l.classList.add(st),this._isSliding=!1,C();_&&this.cycle()}_directionToOrder(e){return[or,nt].includes(e)?ie()?e===nt?ot:it:e===nt?it:ot:e}_orderToDirection(e){return[it,ot].includes(e)?ie()?e===ot?nt:or:e===ot?or:nt:e}static carouselInterface(e,r){let i=Se.getOrCreateInstance(e,r),{_config:s}=i;typeof r=="object"&&(s={...s,...r});let a=typeof r=="string"?r:s.slide;if(typeof r=="number")i.to(r);else if(typeof a=="string"){if(typeof i[a]>"u")throw new TypeError(`No method named "${a}"`);i[a]()}else s.interval&&s.ride&&(i.pause(),i.cycle())}static jQueryInterface(e){return this.each(function(){Se.carouselInterface(this,e)})}static dataApiClickHandler(e){let r=We(this);if(!r||!r.classList.contains(bl))return;let i={...ee.getDataAttributes(r),...ee.getDataAttributes(this)},s=this.getAttribute("data-bs-slide-to");s&&(i.interval=!1),Se.carouselInterface(r,i),s&&Se.getInstance(r).to(s),e.preventDefault()}};E.on(document,vl,Pl,Se.dataApiClickHandler);E.on(window,gl,()=>{let t=P.find(Dl);for(let e=0,r=t.length;e<r;e++)Se.carouselInterface(t[e],Se.getInstance(t[e]))});he(Se);var Co="collapse",As="bs.collapse",cr=`.${As}`,Ml=".data-api",No={toggle:!0,parent:null},$l={toggle:"boolean",parent:"(null|element)"},Bl=`show${cr}`,Hl=`shown${cr}`,jl=`hide${cr}`,Wl=`hidden${cr}`,Vl=`click${cr}${Ml}`,vi="show",Ct="collapse",Dr="collapsing",Ro="collapsed",Lo=`:scope .${Ct} .${Ct}`,Fl="collapse-horizontal",Ul="width",Kl="height",Yl=".collapse.show, .collapse.collapsing",Ai='[data-bs-toggle="collapse"]',ft=class extends de{constructor(e,r){super(e);this._isTransitioning=!1,this._config=this._getConfig(r),this._triggerArray=[];let i=P.find(Ai);for(let s=0,a=i.length;s<a;s++){let l=i[s],h=Ri(l),_=P.find(h).filter(y=>y===this._element);h!==null&&_.length&&(this._selector=h,this._triggerArray.push(l))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return No}static get NAME(){return Co}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[],r;if(this._config.parent){let y=P.find(Lo,this._config.parent);e=P.find(Yl,this._config.parent).filter(p=>!y.includes(p))}let i=P.findOne(this._selector);if(e.length){let y=e.find(p=>i!==p);if(r=y?ft.getInstance(y):null,r&&r._isTransitioning)return}if(E.trigger(this._element,Bl).defaultPrevented)return;e.forEach(y=>{i!==y&&ft.getOrCreateInstance(y,{toggle:!1}).hide(),r||sr.set(y,As,null)});let a=this._getDimension();this._element.classList.remove(Ct),this._element.classList.add(Dr),this._element.style[a]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let l=()=>{this._isTransitioning=!1,this._element.classList.remove(Dr),this._element.classList.add(Ct,vi),this._element.style[a]="",E.trigger(this._element,Hl)},_=`scroll${a[0].toUpperCase()+a.slice(1)}`;this._queueCallback(l,this._element,!0),this._element.style[a]=`${this._element[_]}px`}hide(){if(this._isTransitioning||!this._isShown()||E.trigger(this._element,jl).defaultPrevented)return;let r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,Nt(this._element),this._element.classList.add(Dr),this._element.classList.remove(Ct,vi);let i=this._triggerArray.length;for(let a=0;a<i;a++){let l=this._triggerArray[a],h=We(l);h&&!this._isShown(h)&&this._addAriaAndCollapsedClass([l],!1)}this._isTransitioning=!0;let s=()=>{this._isTransitioning=!1,this._element.classList.remove(Dr),this._element.classList.add(Ct),E.trigger(this._element,Wl)};this._element.style[r]="",this._queueCallback(s,this._element,!0)}_isShown(e=this._element){return e.classList.contains(vi)}_getConfig(e){return e={...No,...ee.getDataAttributes(this._element),...e},e.toggle=Boolean(e.toggle),e.parent=Ve(e.parent),Te(Co,e,$l),e}_getDimension(){return this._element.classList.contains(Fl)?Ul:Kl}_initializeChildren(){if(!this._config.parent)return;let e=P.find(Lo,this._config.parent);P.find(Ai,this._config.parent).filter(r=>!e.includes(r)).forEach(r=>{let i=We(r);i&&this._addAriaAndCollapsedClass([r],this._isShown(i))})}_addAriaAndCollapsedClass(e,r){!e.length||e.forEach(i=>{r?i.classList.remove(Ro):i.classList.add(Ro),i.setAttribute("aria-expanded",r)})}static jQueryInterface(e){return this.each(function(){let r={};typeof e=="string"&&/show|hide/.test(e)&&(r.toggle=!1);let i=ft.getOrCreateInstance(this,r);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}};E.on(document,Vl,Ai,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();let e=Ri(this);P.find(e).forEach(i=>{ft.getOrCreateInstance(i,{toggle:!1}).toggle()})});he(ft);var bi="dropdown",ql="bs.dropdown",ut=`.${ql}`,Li=".data-api",Mr="Escape",Po="Space",Do="Tab",Oi="ArrowUp",$r="ArrowDown",zl=2,Gl=new RegExp(`${Oi}|${$r}|${Mr}`),Xl=`hide${ut}`,Jl=`hidden${ut}`,Ql=`show${ut}`,Zl=`shown${ut}`,Os=`click${ut}${Li}`,Cs=`keydown${ut}${Li}`,ef=`keyup${ut}${Li}`,At="show",tf="dropup",rf="dropend",of="dropstart",sf="navbar",nr='[data-bs-toggle="dropdown"]',Ci=".dropdown-menu",nf=".navbar-nav",af=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",lf=ie()?"top-end":"top-start",ff=ie()?"top-start":"top-end",cf=ie()?"bottom-end":"bottom-start",uf=ie()?"bottom-start":"bottom-end",hf=ie()?"left-start":"right-start",df=ie()?"right-start":"left-start",pf={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},mf={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"},se=class extends de{constructor(e,r){super(e);this._popper=null,this._config=this._getConfig(r),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return pf}static get DefaultType(){return mf}static get NAME(){return bi}toggle(){return this._isShown()?this.hide():this.show()}show(){if(lt(this._element)||this._isShown(this._menu))return;let e={relatedTarget:this._element};if(E.trigger(this._element,Ql,e).defaultPrevented)return;let i=se.getParentFromElement(this._element);this._inNavbar?ee.setDataAttribute(this._menu,"popper","none"):this._createPopper(i),"ontouchstart"in document.documentElement&&!i.closest(nf)&&[].concat(...document.body.children).forEach(s=>E.on(s,"mouseover",Br)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(At),this._element.classList.add(At),E.trigger(this._element,Zl,e)}hide(){if(lt(this._element)||!this._isShown(this._menu))return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){E.trigger(this._element,Xl,e).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(i=>E.off(i,"mouseover",Br)),this._popper&&this._popper.destroy(),this._menu.classList.remove(At),this._element.classList.remove(At),this._element.setAttribute("aria-expanded","false"),ee.removeDataAttribute(this._menu,"popper"),E.trigger(this._element,Jl,e))}_getConfig(e){if(e={...this.constructor.Default,...ee.getDataAttributes(this._element),...e},Te(bi,e,this.constructor.DefaultType),typeof e.reference=="object"&&!ct(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${bi.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(e){if(typeof Lr>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let r=this._element;this._config.reference==="parent"?r=e:ct(this._config.reference)?r=Ve(this._config.reference):typeof this._config.reference=="object"&&(r=this._config.reference);let i=this._getPopperConfig(),s=i.modifiers.find(a=>a.name==="applyStyles"&&a.enabled===!1);this._popper=Qt(r,this._menu,i),s&&ee.setDataAttribute(this._menu,"popper","static")}_isShown(e=this._element){return e.classList.contains(At)}_getMenuElement(){return P.next(this._element,Ci)[0]}_getPlacement(){let e=this._element.parentNode;if(e.classList.contains(rf))return hf;if(e.classList.contains(of))return df;let r=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(tf)?r?ff:lf:r?uf:cf}_detectNavbar(){return this._element.closest(`.${sf}`)!==null}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(r=>Number.parseInt(r,10)):typeof e=="function"?r=>e(r,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:r}){let i=P.find(af,this._menu).filter(ar);!i.length||gs(i,r,e===$r,!i.includes(r)).focus()}static jQueryInterface(e){return this.each(function(){let r=se.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}static clearMenus(e){if(e&&(e.button===zl||e.type==="keyup"&&e.key!==Do))return;let r=P.find(nr);for(let i=0,s=r.length;i<s;i++){let a=se.getInstance(r[i]);if(!a||a._config.autoClose===!1||!a._isShown())continue;let l={relatedTarget:a._element};if(e){let h=e.composedPath(),_=h.includes(a._menu);if(h.includes(a._element)||a._config.autoClose==="inside"&&!_||a._config.autoClose==="outside"&&_||a._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Do||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;e.type==="click"&&(l.clickEvent=e)}a._completeHide(l)}}static getParentFromElement(e){return We(e)||e.parentNode}static dataApiKeydownHandler(e){if(/input|textarea/i.test(e.target.tagName)?e.key===Po||e.key!==Mr&&(e.key!==$r&&e.key!==Oi||e.target.closest(Ci)):!Gl.test(e.key))return;let r=this.classList.contains(At);if(!r&&e.key===Mr||(e.preventDefault(),e.stopPropagation(),lt(this)))return;let i=this.matches(nr)?this:P.prev(this,nr)[0],s=se.getOrCreateInstance(i);if(e.key===Mr){s.hide();return}if(e.key===Oi||e.key===$r){r||s.show(),s._selectMenuItem(e);return}(!r||e.key===Po)&&se.clearMenus()}};E.on(document,Cs,nr,se.dataApiKeydownHandler);E.on(document,Cs,Ci,se.dataApiKeydownHandler);E.on(document,Os,se.clearMenus);E.on(document,ef,se.clearMenus);E.on(document,Os,nr,function(t){t.preventDefault(),se.getOrCreateInstance(this).toggle()});he(se);var ko=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Io=".sticky-top",Hr=class{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",r=>r+e),this._setElementAttributes(ko,"paddingRight",r=>r+e),this._setElementAttributes(Io,"marginRight",r=>r-e)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,r,i){let s=this.getWidth(),a=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+s)return;this._saveInitialAttribute(l,r);let h=window.getComputedStyle(l)[r];l.style[r]=`${i(Number.parseFloat(h))}px`};this._applyManipulationCallback(e,a)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(ko,"paddingRight"),this._resetElementAttributes(Io,"marginRight")}_saveInitialAttribute(e,r){let i=e.style[r];i&&ee.setDataAttribute(e,r,i)}_resetElementAttributes(e,r){let i=s=>{let a=ee.getDataAttribute(s,r);typeof a>"u"?s.style.removeProperty(r):(ee.removeDataAttribute(s,r),s.style[r]=a)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,r){ct(e)?r(e):P.find(e,this._element).forEach(r)}isOverflowing(){return this.getWidth()>0}},_f={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},gf={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Ns="backdrop",vf="fade",Mo="show",$o=`mousedown.bs.${Ns}`,Pi=class{constructor(e){this._config=this._getConfig(e),this._isAppended=!1,this._element=null}show(e){if(!this._config.isVisible){at(e);return}this._append(),this._config.isAnimated&&Nt(this._getElement()),this._getElement().classList.add(Mo),this._emulateAnimation(()=>{at(e)})}hide(e){if(!this._config.isVisible){at(e);return}this._getElement().classList.remove(Mo),this._emulateAnimation(()=>{this.dispose(),at(e)})}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(vf),this._element=e}return this._element}_getConfig(e){return e={..._f,...typeof e=="object"?e:{}},e.rootElement=Ve(e.rootElement),Te(Ns,e,gf),e}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),E.on(this._getElement(),$o,()=>{at(this._config.clickCallback)}),this._isAppended=!0)}dispose(){!this._isAppended||(E.off(this._element,$o),this._element.remove(),this._isAppended=!1)}_emulateAnimation(e){_s(e,this._getElement(),this._config.isAnimated)}},bf={trapElement:null,autofocus:!0},yf={trapElement:"element",autofocus:"boolean"},Ef="focustrap",xf="bs.focustrap",jr=`.${xf}`,Sf=`focusin${jr}`,Tf=`keydown.tab${jr}`,wf="Tab",Af="forward",Bo="backward",Di=class{constructor(e){this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}activate(){let{trapElement:e,autofocus:r}=this._config;this._isActive||(r&&e.focus(),E.off(document,jr),E.on(document,Sf,i=>this._handleFocusin(i)),E.on(document,Tf,i=>this._handleKeydown(i)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,E.off(document,jr))}_handleFocusin(e){let{target:r}=e,{trapElement:i}=this._config;if(r===document||r===i||i.contains(r))return;let s=P.focusableChildren(i);s.length===0?i.focus():this._lastTabNavDirection===Bo?s[s.length-1].focus():s[0].focus()}_handleKeydown(e){e.key===wf&&(this._lastTabNavDirection=e.shiftKey?Bo:Af)}_getConfig(e){return e={...bf,...typeof e=="object"?e:{}},Te(Ef,e,yf),e}},Ho="modal",Of="bs.modal",pe=`.${Of}`,Cf=".data-api",jo="Escape",Wo={backdrop:!0,keyboard:!0,focus:!0},Nf={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Rf=`hide${pe}`,Lf=`hidePrevented${pe}`,Rs=`hidden${pe}`,Ls=`show${pe}`,Pf=`shown${pe}`,Vo=`resize${pe}`,Fo=`click.dismiss${pe}`,Uo=`keydown.dismiss${pe}`,Df=`mouseup.dismiss${pe}`,Ko=`mousedown.dismiss${pe}`,kf=`click${pe}${Cf}`,Yo="modal-open",If="fade",qo="show",yi="modal-static",Mf=".modal.show",$f=".modal-dialog",Bf=".modal-body",Hf='[data-bs-toggle="modal"]',Pe=class extends de{constructor(e,r){super(e);this._config=this._getConfig(r),this._dialog=P.findOne($f,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new Hr}static get Default(){return Wo}static get NAME(){return Ho}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||E.trigger(this._element,Ls,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Yo),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),E.on(this._dialog,Ko,()=>{E.one(this._element,Df,i=>{i.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(e)))}hide(){if(!this._isShown||this._isTransitioning||E.trigger(this._element,Rf).defaultPrevented)return;this._isShown=!1;let r=this._isAnimated();r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(qo),E.off(this._element,Fo),E.off(this._dialog,Ko),this._queueCallback(()=>this._hideModal(),this._element,r)}dispose(){[window,this._dialog].forEach(e=>E.off(e,pe)),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Pi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Di({trapElement:this._element})}_getConfig(e){return e={...Wo,...ee.getDataAttributes(this._element),...typeof e=="object"?e:{}},Te(Ho,e,Nf),e}_showElement(e){let r=this._isAnimated(),i=P.findOne(Bf,this._dialog);(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)&&document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,i&&(i.scrollTop=0),r&&Nt(this._element),this._element.classList.add(qo);let s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,E.trigger(this._element,Pf,{relatedTarget:e})};this._queueCallback(s,this._dialog,r)}_setEscapeEvent(){this._isShown?E.on(this._element,Uo,e=>{this._config.keyboard&&e.key===jo?(e.preventDefault(),this.hide()):!this._config.keyboard&&e.key===jo&&this._triggerBackdropTransition()}):E.off(this._element,Uo)}_setResizeEvent(){this._isShown?E.on(window,Vo,()=>this._adjustDialog()):E.off(window,Vo)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Yo),this._resetAdjustments(),this._scrollBar.reset(),E.trigger(this._element,Rs)})}_showBackdrop(e){E.on(this._element,Fo,r=>{if(this._ignoreBackdropClick){this._ignoreBackdropClick=!1;return}r.target===r.currentTarget&&(this._config.backdrop===!0?this.hide():this._config.backdrop==="static"&&this._triggerBackdropTransition())}),this._backdrop.show(e)}_isAnimated(){return this._element.classList.contains(If)}_triggerBackdropTransition(){if(E.trigger(this._element,Lf).defaultPrevented)return;let{classList:r,scrollHeight:i,style:s}=this._element,a=i>document.documentElement.clientHeight;!a&&s.overflowY==="hidden"||r.contains(yi)||(a||(s.overflowY="hidden"),r.add(yi),this._queueCallback(()=>{r.remove(yi),a||this._queueCallback(()=>{s.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,r=this._scrollBar.getWidth(),i=r>0;(!i&&e&&!ie()||i&&!e&&ie())&&(this._element.style.paddingLeft=`${r}px`),(i&&!e&&!ie()||!i&&e&&ie())&&(this._element.style.paddingRight=`${r}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,r){return this.each(function(){let i=Pe.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](r)}})}};E.on(document,kf,Hf,function(t){let e=We(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),E.one(e,Ls,s=>{s.defaultPrevented||E.one(e,Rs,()=>{ar(this)&&this.focus()})});let r=P.findOne(Mf);r&&Pe.getInstance(r).hide(),Pe.getOrCreateInstance(e).toggle(this)});Wr(Pe);he(Pe);var zo="offcanvas",jf="bs.offcanvas",ht=`.${jf}`,Ps=".data-api",Wf=`load${ht}${Ps}`,Vf="Escape",Go={backdrop:!0,keyboard:!0,scroll:!1},Ff={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Xo="show",Uf="offcanvas-backdrop",Ds=".offcanvas.show",Kf=`show${ht}`,Yf=`shown${ht}`,qf=`hide${ht}`,ks=`hidden${ht}`,zf=`click${ht}${Ps}`,Gf=`keydown.dismiss${ht}`,Xf='[data-bs-toggle="offcanvas"]',Fe=class extends de{constructor(e,r){super(e);this._config=this._getConfig(r),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return zo}static get Default(){return Go}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||E.trigger(this._element,Kf,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||new Hr().hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Xo);let i=()=>{this._config.scroll||this._focustrap.activate(),E.trigger(this._element,Yf,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||E.trigger(this._element,qf).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(Xo),this._backdrop.hide();let r=()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||new Hr().reset(),E.trigger(this._element,ks)};this._queueCallback(r,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(e){return e={...Go,...ee.getDataAttributes(this._element),...typeof e=="object"?e:{}},Te(zo,e,Ff),e}_initializeBackDrop(){return new Pi({className:Uf,isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new Di({trapElement:this._element})}_addEventListeners(){E.on(this._element,Gf,e=>{this._config.keyboard&&e.key===Vf&&this.hide()})}static jQueryInterface(e){return this.each(function(){let r=Fe.getOrCreateInstance(this,e);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e](this)}})}};E.on(document,zf,Xf,function(t){let e=We(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),lt(this))return;E.one(e,ks,()=>{ar(this)&&this.focus()});let r=P.findOne(Ds);r&&r!==e&&Fe.getInstance(r).hide(),Fe.getOrCreateInstance(e).toggle(this)});E.on(window,Wf,()=>P.find(Ds).forEach(t=>Fe.getOrCreateInstance(t).show()));Wr(Fe);he(Fe);var Jf=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Qf=/^aria-[\w-]*$/i,Zf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,ec=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,tc=(t,e)=>{let r=t.nodeName.toLowerCase();if(e.includes(r))return Jf.has(r)?Boolean(Zf.test(t.nodeValue)||ec.test(t.nodeValue)):!0;let i=e.filter(s=>s instanceof RegExp);for(let s=0,a=i.length;s<a;s++)if(i[s].test(r))return!0;return!1},rc={"*":["class","dir","id","lang","role",Qf],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Jo(t,e,r){if(!t.length)return t;if(r&&typeof r=="function")return r(t);let s=new window.DOMParser().parseFromString(t,"text/html"),a=[].concat(...s.body.querySelectorAll("*"));for(let l=0,h=a.length;l<h;l++){let _=a[l],y=_.nodeName.toLowerCase();if(!Object.keys(e).includes(y)){_.remove();continue}let p=[].concat(..._.attributes),w=[].concat(e["*"]||[],e[y]||[]);p.forEach(A=>{tc(A,w)||_.removeAttribute(A.nodeName)})}return s.body.innerHTML}var Qo="tooltip",ic="bs.tooltip",Ee=`.${ic}`,oc="bs-tooltip",sc=new Set(["sanitize","allowList","sanitizeFn"]),nc={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},ac={AUTO:"auto",TOP:"top",RIGHT:ie()?"left":"right",BOTTOM:"bottom",LEFT:ie()?"right":"left"},lc={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:rc,popperConfig:null},fc={HIDE:`hide${Ee}`,HIDDEN:`hidden${Ee}`,SHOW:`show${Ee}`,SHOWN:`shown${Ee}`,INSERTED:`inserted${Ee}`,CLICK:`click${Ee}`,FOCUSIN:`focusin${Ee}`,FOCUSOUT:`focusout${Ee}`,MOUSEENTER:`mouseenter${Ee}`,MOUSELEAVE:`mouseleave${Ee}`},kr="fade",cc="modal",Zt="show",er="show",Ei="out",Zo=".tooltip-inner",es=`.${cc}`,ts="hide.bs.modal",tr="hover",xi="focus",uc="click",hc="manual",dt=class extends de{constructor(e,r){if(typeof Lr>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e);this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(r),this.tip=null,this._setListeners()}static get Default(){return lc}static get NAME(){return Qo}static get Event(){return fc}static get DefaultType(){return nc}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(!!this._isEnabled)if(e){let r=this._initializeOnDelegatedTarget(e);r._activeTrigger.click=!r._activeTrigger.click,r._isWithActiveTrigger()?r._enter(null,r):r._leave(null,r)}else{if(this.getTipElement().classList.contains(Zt)){this._leave(null,this);return}this._enter(null,this)}}dispose(){clearTimeout(this._timeout),E.off(this._element.closest(es),ts,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this.isWithContent()&&this._isEnabled))return;let e=E.trigger(this._element,this.constructor.Event.SHOW),r=ps(this._element),i=r===null?this._element.ownerDocument.documentElement.contains(this._element):r.contains(this._element);if(e.defaultPrevented||!i)return;this.constructor.NAME==="tooltip"&&this.tip&&this.getTitle()!==this.tip.querySelector(Zo).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);let s=this.getTipElement(),a=Na(this.constructor.NAME);s.setAttribute("id",a),this._element.setAttribute("aria-describedby",a),this._config.animation&&s.classList.add(kr);let l=typeof this._config.placement=="function"?this._config.placement.call(this,s,this._element):this._config.placement,h=this._getAttachment(l);this._addAttachmentClass(h);let{container:_}=this._config;sr.set(s,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(_.append(s),E.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Qt(this._element,s,this._getPopperConfig(h)),s.classList.add(Zt);let y=this._resolvePossibleFunction(this._config.customClass);y&&s.classList.add(...y.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(A=>{E.on(A,"mouseover",Br)});let p=()=>{let A=this._hoverState;this._hoverState=null,E.trigger(this._element,this.constructor.Event.SHOWN),A===Ei&&this._leave(null,this)},w=this.tip.classList.contains(kr);this._queueCallback(p,this.tip,w)}hide(){if(!this._popper)return;let e=this.getTipElement(),r=()=>{this._isWithActiveTrigger()||(this._hoverState!==er&&e.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),E.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())};if(E.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;e.classList.remove(Zt),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(a=>E.off(a,"mouseover",Br)),this._activeTrigger[uc]=!1,this._activeTrigger[xi]=!1,this._activeTrigger[tr]=!1;let s=this.tip.classList.contains(kr);this._queueCallback(r,this.tip,s),this._hoverState=""}update(){this._popper!==null&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;let e=document.createElement("div");e.innerHTML=this._config.template;let r=e.children[0];return this.setContent(r),r.classList.remove(kr,Zt),this.tip=r,this.tip}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),Zo)}_sanitizeAndSetContent(e,r,i){let s=P.findOne(i,e);if(!r&&s){s.remove();return}this.setElementContent(s,r)}setElementContent(e,r){if(e!==null){if(ct(r)){r=Ve(r),this._config.html?r.parentNode!==e&&(e.innerHTML="",e.append(r)):e.textContent=r.textContent;return}this._config.html?(this._config.sanitize&&(r=Jo(r,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=r):e.textContent=r}}getTitle(){let e=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(e)}updateAttachment(e){return e==="right"?"end":e==="left"?"start":e}_initializeOnDelegatedTarget(e,r){return r||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(r=>Number.parseInt(r,10)):typeof e=="function"?r=>e(r,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){let r={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:i=>this._handlePopperPlacementChange(i)}],onFirstUpdate:i=>{i.options.placement!==i.placement&&this._handlePopperPlacementChange(i)}};return{...r,...typeof this._config.popperConfig=="function"?this._config.popperConfig(r):this._config.popperConfig}}_addAttachmentClass(e){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(e)}`)}_getAttachment(e){return ac[e.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(r=>{if(r==="click")E.on(this._element,this.constructor.Event.CLICK,this._config.selector,i=>this.toggle(i));else if(r!==hc){let i=r===tr?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,s=r===tr?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;E.on(this._element,i,this._config.selector,a=>this._enter(a)),E.on(this._element,s,this._config.selector,a=>this._leave(a))}}),this._hideModalHandler=()=>{this._element&&this.hide()},E.on(this._element.closest(es),ts,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){let e=this._element.getAttribute("title"),r=typeof this._element.getAttribute("data-bs-original-title");(e||r!=="string")&&(this._element.setAttribute("data-bs-original-title",e||""),e&&!this._element.getAttribute("aria-label")&&!this._element.textContent&&this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}_enter(e,r){if(r=this._initializeOnDelegatedTarget(e,r),e&&(r._activeTrigger[e.type==="focusin"?xi:tr]=!0),r.getTipElement().classList.contains(Zt)||r._hoverState===er){r._hoverState=er;return}if(clearTimeout(r._timeout),r._hoverState=er,!r._config.delay||!r._config.delay.show){r.show();return}r._timeout=setTimeout(()=>{r._hoverState===er&&r.show()},r._config.delay.show)}_leave(e,r){if(r=this._initializeOnDelegatedTarget(e,r),e&&(r._activeTrigger[e.type==="focusout"?xi:tr]=r._element.contains(e.relatedTarget)),!r._isWithActiveTrigger()){if(clearTimeout(r._timeout),r._hoverState=Ei,!r._config.delay||!r._config.delay.hide){r.hide();return}r._timeout=setTimeout(()=>{r._hoverState===Ei&&r.hide()},r._config.delay.hide)}}_isWithActiveTrigger(){for(let e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}_getConfig(e){let r=ee.getDataAttributes(this._element);return Object.keys(r).forEach(i=>{sc.has(i)&&delete r[i]}),e={...this.constructor.Default,...r,...typeof e=="object"&&e?e:{}},e.container=e.container===!1?document.body:Ve(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),Te(Qo,e,this.constructor.DefaultType),e.sanitize&&(e.template=Jo(e.template,e.allowList,e.sanitizeFn)),e}_getDelegateConfig(){let e={};for(let r in this._config)this.constructor.Default[r]!==this._config[r]&&(e[r]=this._config[r]);return e}_cleanTipClass(){let e=this.getTipElement(),r=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),i=e.getAttribute("class").match(r);i!==null&&i.length>0&&i.map(s=>s.trim()).forEach(s=>e.classList.remove(s))}_getBasicClassPrefix(){return oc}_handlePopperPlacementChange(e){let{state:r}=e;!r||(this.tip=r.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(r.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each(function(){let r=dt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};he(dt);var dc="popover",pc="bs.popover",xe=`.${pc}`,mc="bs-popover",_c={...dt.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},gc={...dt.DefaultType,content:"(string|element|function)"},vc={HIDE:`hide${xe}`,HIDDEN:`hidden${xe}`,SHOW:`show${xe}`,SHOWN:`shown${xe}`,INSERTED:`inserted${xe}`,CLICK:`click${xe}`,FOCUSIN:`focusin${xe}`,FOCUSOUT:`focusout${xe}`,MOUSEENTER:`mouseenter${xe}`,MOUSELEAVE:`mouseleave${xe}`},bc=".popover-header",yc=".popover-body",Vr=class extends dt{static get Default(){return _c}static get NAME(){return dc}static get Event(){return vc}static get DefaultType(){return gc}isWithContent(){return this.getTitle()||this._getContent()}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),bc),this._sanitizeAndSetContent(e,this._getContent(),yc)}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return mc}static jQueryInterface(e){return this.each(function(){let r=Vr.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};he(Vr);var rs="scrollspy",Ec="bs.scrollspy",Fr=`.${Ec}`,xc=".data-api",is={offset:10,method:"auto",target:""},Sc={offset:"number",method:"string",target:"(string|element)"},Tc=`activate${Fr}`,wc=`scroll${Fr}`,Ac=`load${Fr}${xc}`,Is="dropdown-item",Ot="active",Oc='[data-bs-spy="scroll"]',Cc=".nav, .list-group",Ni=".nav-link",Nc=".nav-item",Ms=".list-group-item",Si=`${Ni}, ${Ms}, .${Is}`,Rc=".dropdown",Lc=".dropdown-toggle",Pc="offset",os="position",ur=class extends de{constructor(e,r){super(e);this._scrollElement=this._element.tagName==="BODY"?window:this._element,this._config=this._getConfig(r),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,E.on(this._scrollElement,wc,()=>this._process()),this.refresh(),this._process()}static get Default(){return is}static get NAME(){return rs}refresh(){let e=this._scrollElement===this._scrollElement.window?Pc:os,r=this._config.method==="auto"?e:this._config.method,i=r===os?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),P.find(Si,this._config.target).map(a=>{let l=Ri(a),h=l?P.findOne(l):null;if(h){let _=h.getBoundingClientRect();if(_.width||_.height)return[ee[r](h).top+i,l]}return null}).filter(a=>a).sort((a,l)=>a[0]-l[0]).forEach(a=>{this._offsets.push(a[0]),this._targets.push(a[1])})}dispose(){E.off(this._scrollElement,Fr),super.dispose()}_getConfig(e){return e={...is,...ee.getDataAttributes(this._element),...typeof e=="object"&&e?e:{}},e.target=Ve(e.target)||document.documentElement,Te(rs,e,Sc),e}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){let e=this._getScrollTop()+this._config.offset,r=this._getScrollHeight(),i=this._config.offset+r-this._getOffsetHeight();if(this._scrollHeight!==r&&this.refresh(),e>=i){let s=this._targets[this._targets.length-1];this._activeTarget!==s&&this._activate(s);return}if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0){this._activeTarget=null,this._clear();return}for(let s=this._offsets.length;s--;)this._activeTarget!==this._targets[s]&&e>=this._offsets[s]&&(typeof this._offsets[s+1]>"u"||e<this._offsets[s+1])&&this._activate(this._targets[s])}_activate(e){this._activeTarget=e,this._clear();let r=Si.split(",").map(s=>`${s}[data-bs-target="${e}"],${s}[href="${e}"]`),i=P.findOne(r.join(","),this._config.target);i.classList.add(Ot),i.classList.contains(Is)?P.findOne(Lc,i.closest(Rc)).classList.add(Ot):P.parents(i,Cc).forEach(s=>{P.prev(s,`${Ni}, ${Ms}`).forEach(a=>a.classList.add(Ot)),P.prev(s,Nc).forEach(a=>{P.children(a,Ni).forEach(l=>l.classList.add(Ot))})}),E.trigger(this._scrollElement,Tc,{relatedTarget:e})}_clear(){P.find(Si,this._config.target).filter(e=>e.classList.contains(Ot)).forEach(e=>e.classList.remove(Ot))}static jQueryInterface(e){return this.each(function(){let r=ur.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};E.on(window,Ac,()=>{P.find(Oc).forEach(t=>new ur(t))});he(ur);var Dc="tab",kc="bs.tab",hr=`.${kc}`,Ic=".data-api",Mc=`hide${hr}`,$c=`hidden${hr}`,Bc=`show${hr}`,Hc=`shown${hr}`,jc=`click${hr}${Ic}`,Wc="dropdown-menu",rr="active",ss="fade",ns="show",Vc=".dropdown",Fc=".nav, .list-group",as=".active",ls=":scope > li > .active",Uc='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Kc=".dropdown-toggle",Yc=":scope > .dropdown-menu .active",dr=class extends de{static get NAME(){return Dc}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(rr))return;let e,r=We(this._element),i=this._element.closest(Fc);if(i){let h=i.nodeName==="UL"||i.nodeName==="OL"?ls:as;e=P.find(h,i),e=e[e.length-1]}let s=e?E.trigger(e,Mc,{relatedTarget:this._element}):null;if(E.trigger(this._element,Bc,{relatedTarget:e}).defaultPrevented||s!==null&&s.defaultPrevented)return;this._activate(this._element,i);let l=()=>{E.trigger(e,$c,{relatedTarget:this._element}),E.trigger(this._element,Hc,{relatedTarget:e})};r?this._activate(r,r.parentNode,l):l()}_activate(e,r,i){let a=(r&&(r.nodeName==="UL"||r.nodeName==="OL")?P.find(ls,r):P.children(r,as))[0],l=i&&a&&a.classList.contains(ss),h=()=>this._transitionComplete(e,a,i);a&&l?(a.classList.remove(ns),this._queueCallback(h,e,!0)):h()}_transitionComplete(e,r,i){if(r){r.classList.remove(rr);let a=P.findOne(Yc,r.parentNode);a&&a.classList.remove(rr),r.getAttribute("role")==="tab"&&r.setAttribute("aria-selected",!1)}e.classList.add(rr),e.getAttribute("role")==="tab"&&e.setAttribute("aria-selected",!0),Nt(e),e.classList.contains(ss)&&e.classList.add(ns);let s=e.parentNode;if(s&&s.nodeName==="LI"&&(s=s.parentNode),s&&s.classList.contains(Wc)){let a=e.closest(Vc);a&&P.find(Kc,a).forEach(l=>l.classList.add(rr)),e.setAttribute("aria-expanded",!0)}i&&i()}static jQueryInterface(e){return this.each(function(){let r=dr.getOrCreateInstance(this);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};E.on(document,jc,Uc,function(t){if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),lt(this))return;dr.getOrCreateInstance(this).show()});he(dr);var fs="toast",qc="bs.toast",Ue=`.${qc}`,zc=`mouseover${Ue}`,Gc=`mouseout${Ue}`,Xc=`focusin${Ue}`,Jc=`focusout${Ue}`,Qc=`hide${Ue}`,Zc=`hidden${Ue}`,eu=`show${Ue}`,tu=`shown${Ue}`,ru="fade",cs="hide",ir="show",Ir="showing",iu={animation:"boolean",autohide:"boolean",delay:"number"},us={animation:!0,autohide:!0,delay:5e3},pr=class extends de{constructor(e,r){super(e);this._config=this._getConfig(r),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return iu}static get Default(){return us}static get NAME(){return fs}show(){if(E.trigger(this._element,eu).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(ru);let r=()=>{this._element.classList.remove(Ir),E.trigger(this._element,tu),this._maybeScheduleHide()};this._element.classList.remove(cs),Nt(this._element),this._element.classList.add(ir),this._element.classList.add(Ir),this._queueCallback(r,this._element,this._config.animation)}hide(){if(!this._element.classList.contains(ir)||E.trigger(this._element,Qc).defaultPrevented)return;let r=()=>{this._element.classList.add(cs),this._element.classList.remove(Ir),this._element.classList.remove(ir),E.trigger(this._element,Zc)};this._element.classList.add(Ir),this._queueCallback(r,this._element,this._config.animation)}dispose(){this._clearTimeout(),this._element.classList.contains(ir)&&this._element.classList.remove(ir),super.dispose()}_getConfig(e){return e={...us,...ee.getDataAttributes(this._element),...typeof e=="object"&&e?e:{}},Te(fs,e,this.constructor.DefaultType),e}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(e,r){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=r;break;case"focusin":case"focusout":this._hasKeyboardInteraction=r;break}if(r){this._clearTimeout();return}let i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){E.on(this._element,zc,e=>this._onInteraction(e,!0)),E.on(this._element,Gc,e=>this._onInteraction(e,!1)),E.on(this._element,Xc,e=>this._onInteraction(e,!0)),E.on(this._element,Jc,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let r=pr.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](this)}})}};Wr(pr);he(pr);var Rt=document.querySelector.bind(document),ki=class extends Pe{set onhidden(e){let r=this._element;r.addEventListener("hidden.bs.modal",function i(){e(),r.removeEventListener("hidden.bs.modal",i)})}set onshown(e){let r=this._element;r.addEventListener("shown.bs.modal",function i(){e(),r.removeEventListener("shown.bs.modal",i)})}display(e,r,i,s=!1,a="",l=!1){Rt(".modal-body").innerHTML=e;let h=Rt(".modal-footer .btn-primary");h.textContent=r,h.onclick=i,h.style.display=r===""?"none":"",Rt(".modal-dialog").classList[s?"add":"remove"]("modal-lg"),Rt(".modal-title").textContent=a,Rt(".modal-header").style.display=a===""?"none":"",Rt(".modal-footer").style.display=l?"none":"",this.show()}};var ou=typeof global=="object"&&global&&global.Object===Object&&global,$s=ou;var su=typeof self=="object"&&self&&self.Object===Object&&self,nu=$s||su||Function("return this")(),Lt=nu;var au=Lt.Symbol,De=au;var Bs=Object.prototype,lu=Bs.hasOwnProperty,fu=Bs.toString,mr=De?De.toStringTag:void 0;function cu(t){var e=lu.call(t,mr),r=t[mr];try{t[mr]=void 0;var i=!0}catch{}var s=fu.call(t);return i&&(e?t[mr]=r:delete t[mr]),s}var Hs=cu;var uu=Object.prototype,hu=uu.toString;function du(t){return hu.call(t)}var js=du;var pu="[object Null]",mu="[object Undefined]",Ws=De?De.toStringTag:void 0;function _u(t){return t==null?t===void 0?mu:pu:Ws&&Ws in Object(t)?Hs(t):js(t)}var Ur=_u;function gu(t){return t!=null&&typeof t=="object"}var Vs=gu;var vu="[object Symbol]";function bu(t){return typeof t=="symbol"||Vs(t)&&Ur(t)==vu}var Pt=bu;function yu(t,e){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=e(t[r],r,t);return s}var Fs=yu;var Eu=Array.isArray,we=Eu;var xu=1/0,Us=De?De.prototype:void 0,Ks=Us?Us.toString:void 0;function Ys(t){if(typeof t=="string")return t;if(we(t))return Fs(t,Ys)+"";if(Pt(t))return Ks?Ks.call(t):"";var e=t+"";return e=="0"&&1/t==-xu?"-0":e}var qs=Ys;function Su(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var pt=Su;var Tu="[object AsyncFunction]",wu="[object Function]",Au="[object GeneratorFunction]",Ou="[object Proxy]";function Cu(t){if(!pt(t))return!1;var e=Ur(t);return e==wu||e==Au||e==Tu||e==Ou}var zs=Cu;var Nu=Lt["__core-js_shared__"],Kr=Nu;var Gs=function(){var t=/[^.]+$/.exec(Kr&&Kr.keys&&Kr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ru(t){return!!Gs&&Gs in t}var Xs=Ru;var Lu=Function.prototype,Pu=Lu.toString;function Du(t){if(t!=null){try{return Pu.call(t)}catch{}try{return t+""}catch{}}return""}var Js=Du;var ku=/[\\^$.*+?()[\]{}|]/g,Iu=/^\[object .+?Constructor\]$/,Mu=Function.prototype,$u=Object.prototype,Bu=Mu.toString,Hu=$u.hasOwnProperty,ju=RegExp("^"+Bu.call(Hu).replace(ku,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wu(t){if(!pt(t)||Xs(t))return!1;var e=zs(t)?ju:Iu;return e.test(Js(t))}var Qs=Wu;function Vu(t,e){return t==null?void 0:t[e]}var Zs=Vu;function Fu(t,e){var r=Zs(t,e);return Qs(r)?r:void 0}var Dt=Fu;var Uu=function(){try{var t=Dt(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ii=Uu;var Ku=9007199254740991,Yu=/^(?:0|[1-9]\d*)$/;function qu(t,e){var r=typeof t;return e=e??Ku,!!e&&(r=="number"||r!="symbol"&&Yu.test(t))&&t>-1&&t%1==0&&t<e}var en=qu;function zu(t,e,r){e=="__proto__"&&Ii?Ii(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var tn=zu;function Gu(t,e){return t===e||t!==t&&e!==e}var Yr=Gu;var Xu=Object.prototype,Ju=Xu.hasOwnProperty;function Qu(t,e,r){var i=t[e];(!(Ju.call(t,e)&&Yr(i,r))||r===void 0&&!(e in t))&&tn(t,e,r)}var rn=Qu;var Zu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eh=/^\w*$/;function th(t,e){if(we(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Pt(t)?!0:eh.test(t)||!Zu.test(t)||e!=null&&t in Object(e)}var on=th;var rh=Dt(Object,"create"),ke=rh;function ih(){this.__data__=ke?ke(null):{},this.size=0}var sn=ih;function oh(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var nn=oh;var sh="__lodash_hash_undefined__",nh=Object.prototype,ah=nh.hasOwnProperty;function lh(t){var e=this.__data__;if(ke){var r=e[t];return r===sh?void 0:r}return ah.call(e,t)?e[t]:void 0}var an=lh;var fh=Object.prototype,ch=fh.hasOwnProperty;function uh(t){var e=this.__data__;return ke?e[t]!==void 0:ch.call(e,t)}var ln=uh;var hh="__lodash_hash_undefined__";function dh(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ke&&e===void 0?hh:e,this}var fn=dh;function kt(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}kt.prototype.clear=sn;kt.prototype.delete=nn;kt.prototype.get=an;kt.prototype.has=ln;kt.prototype.set=fn;var Mi=kt;function ph(){this.__data__=[],this.size=0}var cn=ph;function mh(t,e){for(var r=t.length;r--;)if(Yr(t[r][0],e))return r;return-1}var Ke=mh;var _h=Array.prototype,gh=_h.splice;function vh(t){var e=this.__data__,r=Ke(e,t);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():gh.call(e,r,1),--this.size,!0}var un=vh;function bh(t){var e=this.__data__,r=Ke(e,t);return r<0?void 0:e[r][1]}var hn=bh;function yh(t){return Ke(this.__data__,t)>-1}var dn=yh;function Eh(t,e){var r=this.__data__,i=Ke(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}var pn=Eh;function It(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}It.prototype.clear=cn;It.prototype.delete=un;It.prototype.get=hn;It.prototype.has=dn;It.prototype.set=pn;var mn=It;var xh=Dt(Lt,"Map"),_n=xh;function Sh(){this.size=0,this.__data__={hash:new Mi,map:new(_n||mn),string:new Mi}}var gn=Sh;function Th(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var vn=Th;function wh(t,e){var r=t.__data__;return vn(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ye=wh;function Ah(t){var e=Ye(this,t).delete(t);return this.size-=e?1:0,e}var bn=Ah;function Oh(t){return Ye(this,t).get(t)}var yn=Oh;function Ch(t){return Ye(this,t).has(t)}var En=Ch;function Nh(t,e){var r=Ye(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}var xn=Nh;function Mt(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Mt.prototype.clear=gn;Mt.prototype.delete=bn;Mt.prototype.get=yn;Mt.prototype.has=En;Mt.prototype.set=xn;var $i=Mt;var Rh="Expected a function";function Bi(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Rh);var r=function(){var i=arguments,s=e?e.apply(this,i):i[0],a=r.cache;if(a.has(s))return a.get(s);var l=t.apply(this,i);return r.cache=a.set(s,l)||a,l};return r.cache=new(Bi.Cache||$i),r}Bi.Cache=$i;var Sn=Bi;var Lh=500;function Ph(t){var e=Sn(t,function(i){return r.size===Lh&&r.clear(),i}),r=e.cache;return e}var Tn=Ph;var Dh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kh=/\\(\\)?/g,Ih=Tn(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Dh,function(r,i,s,a){e.push(s?a.replace(kh,"$1"):i||r)}),e}),wn=Ih;function Mh(t){return t==null?"":qs(t)}var An=Mh;function $h(t,e){return we(t)?t:on(t,e)?[t]:wn(An(t))}var qr=$h;var Bh=1/0;function Hh(t){if(typeof t=="string"||Pt(t))return t;var e=t+"";return e=="0"&&1/t==-Bh?"-0":e}var zr=Hh;function jh(t,e){e=qr(e,t);for(var r=0,i=e.length;t!=null&&r<i;)t=t[zr(e[r++])];return r&&r==i?t:void 0}var On=jh;function Wh(t,e,r){var i=t==null?void 0:On(t,e);return i===void 0?r:i}var Gr=Wh;function Vh(t,e,r,i){if(!pt(t))return t;e=qr(e,t);for(var s=-1,a=e.length,l=a-1,h=t;h!=null&&++s<a;){var _=zr(e[s]),y=r;if(_==="__proto__"||_==="constructor"||_==="prototype")return t;if(s!=l){var p=h[_];y=i?i(p,_,h):void 0,y===void 0&&(y=pt(p)?p:en(e[s+1])?[]:{})}rn(h,_,y),h=h[_]}return t}var Cn=Vh;function Fh(t,e,r){return t==null?t:Cn(t,e,r)}var Hi=Fh;var Uh=Qn(Nn());var L={camera:{offsetX:0,offsetY:0,initialScale:.9,scale:0,terrainWidth:0,terrainHeight:0},render:{groundScaleFactor:1.8},debug:{debugMode:!1}};L.camera.scale=L.camera.initialScale;var{camera:Wi}=L,Vi=new Map,Fi=class{#e;#s=!1;#o=!1;#a=!1;#n=1;constructor(e){if(setInterval(()=>{this.#n=Wi.scale},50),e===null)throw new Error;this.#e=e}get#t(){return this.#s?1:this.#n}get#r(){return this.#s?0:Wi.offsetX/this.#n}get#i(){return this.#s?0:Wi.offsetY/this.#n}get free(){return this.#s}set free(e){this.#s=e}get bypassCache(){return this.#a}set bypassCache(e){this.#a=e}get flippedX(){return this.#o}set flippedX(e){this.#o=e,e?this.#e.setTransform(-1,0,0,1,0,0):this.#e.setTransform(1,0,0,1,0,0)}get canvas(){return this.#e.canvas}get imageSmoothingQuality(){return this.#e.imageSmoothingQuality}set imageSmoothingQuality(e){this.#e.imageSmoothingQuality=e}get globalAlpha(){return this.#e.globalAlpha}set globalAlpha(e){this.#e.globalAlpha=e}set globalCompositeOperation(e){this.#e.globalCompositeOperation=e}set filter(e){this.#e.filter=e}fill(){this.#e.fill()}beginPath(){this.#e.beginPath()}arc(e,r,i,s,a){this.#e.arc((e+this.#r)*this.#t,(r+this.#i)*this.#t,i*this.#t,s,a)}set strokeStyle(e){this.#e.strokeStyle=e}moveTo(e,r){this.#e.moveTo((e+this.#r)*this.#t,(r+this.#i)*this.#t)}lineTo(e,r){this.#e.lineTo((e+this.#r)*this.#t,(r+this.#i)*this.#t)}stroke(){this.#e.stroke()}get fillStyle(){return this.#e.fillStyle}set fillStyle(e){this.#e.fillStyle=e}get font(){return this.#e.font}set font(e){this.#e.font=e.replace(/(\d+)px/,(r,i)=>`${Number(i)*this.#t}px`)}get textAlign(){return this.#e.textAlign}set textAlign(e){this.#e.textAlign=e}get shadowColor(){return this.#e.shadowColor}set shadowColor(e){this.#e.shadowColor=e}get shadowOffsetX(){return this.#e.shadowOffsetX}set shadowOffsetX(e){this.#e.shadowOffsetX=e*this.#t}get shadowOffsetY(){return this.#e.shadowOffsetY}set shadowOffsetY(e){this.#e.shadowOffsetY=e*this.#t}fillRect(e,r,i,s){this.#e.fillRect((e+this.#r)*this.#t*(this.#o?-1:1),(r+this.#i)*this.#t,i*this.#t,s*this.#t)}strokeRect(e,r,i,s){this.#e.strokeRect((e+this.#r)*this.#t*(this.#o?-1:1),(r+this.#i)*this.#t,i*this.#t,s*this.#t)}drawImage(e,...r){if(r.length>5){let[A,x,C,T,R,B,j,W]=r,D=(R+this.#r)*this.#t*(this.#o?-1:1),M=(B+this.#i)*this.#t,k=j*this.#t,I=W*this.#t;this.#e.drawImage(e,A,x,C,T,D,M,k,I);return}let[i,s,a=e.width,l=e.height]=r,h=(i+this.#r)*this.#t*(this.#o?-1:1),_=(s+this.#i)*this.#t,y=a*this.#t,p=l*this.#t;if(this.#a){this.#e.drawImage(e,h,_,y,p);return}let w=y+"_"+p+e.src;if(!Vi.has(w)){let A=document.createElement("canvas"),x=A.getContext("2d");x.imageSmoothingQuality="high";let C=y/p,T=vt(y,-123,4096),R=T/C;T=y,R=p,A.width=T,A.height=R,x.drawImage(e,0,0,A.width,A.height),Vi.set(w,A)}this.#e.drawImage(Vi.get(w),h,_)}fillText(e,r,i){this.#e.fillText(e,(r+this.#r)*this.#t*(this.#o?-1:1),(i+this.#i)*this.#t)}strokeText(e,r,i){this.#e.strokeText(e,(r+this.#r)*this.#t*(this.#o?-1:1),(i+this.#i)*this.#t)}clearRect(e,r,i,s){this.#e.clearRect(e,r,i,s)}save(){this.#e.save()}restore(){this.#e.restore()}};var Ae=class{};Ae.weaponBox={spriteName:"weaponBox",frameCount:16},Ae.rabbitBreath={spriteName:"rabbitBreath",frameCount:60},Ae.bubbles={spriteName:"bubbles",frameCount:68},Ae.rabbitGo={spriteName:"rabbitGo",frameCount:24},Ae.rabbitPrepareToJump={spriteName:"rabbitPrepareToJump",frameCount:9},Ae.rabbitJumpBack={spriteName:"rabbitJumpBack",frameCount:30},Ae.rabbitJump={spriteName:"rabbitJump",frameCount:9};var Rn=1e3/24;function gr(t,e,r,i,s=!0){let{ctx:a,sprites:l,timeStamp:h}=L.render,_=h-t.startTime;if(!s&&_>=t.anim.frameCount*Rn)return;let y=Math.floor(_/Rn)%t.anim.frameCount,p=l[t.anim.spriteName],w=p.width/t.anim.frameCount;a.drawImage(p,y*w,0,w,p.height,e,r,w*i,p.height*i)}var{camera:Xr}=L;function Ln(){let{ctx:t}=L.render;t.save(),t.free=!0,t.font="italic 800 19px 'Alegreya Sans'",t.shadowColor="#555555",t.shadowOffsetX=1,t.shadowOffsetY=1,t.fillStyle="White",t.fillText(`${0}.${1}.${0}.${1337} Alpha version`,20,t.canvas.height-20),t.free=!1,t.restore(),t.save(),t.free=!0,t.font="italic 800 23px 'Alegreya Sans'",t.textAlign="center",t.shadowColor="#555555",t.shadowOffsetX=1,t.shadowOffsetY=1;for(let{name:e,colX:r,colY:i,health:s,team:a}of L.localState.characters??[]){let l=r*Xr.scale+Xr.offsetX,h=i*Xr.scale+Xr.offsetY;t.fillStyle=a===1?"#a6eb1c":"#fe4f6c",t.fillText(e,l,h-50),t.fillText(String(s),l,h-25)}t.free=!1,t.restore()}var Jr=class{};Zi(Jr,"bubbles",{spriteName:"bubbles",frameCount:68});var Ui=class{anim;startTime;constructor(e){this.anim=e,this.startTime=performance.now()}};var{camera:$t}=L,Ki,Pn;setTimeout(function t(){let{ctx:e}=L.render;Ki=new Ui(Jr.bubbles);let r=-$t.offsetX/$t.scale,i=e.canvas.width/$t.scale;Pn=gt(r,i),setTimeout(t,gt(9e3,12e3))},gt(9e3,12e3));function Dn(){let{ctx:t}=L.render;t.save();let{waterOffset:e}=L.localState.meta;Ki&&gr(Ki,Pn,e+15,.15,!1);let r=-$t.offsetX/$t.scale,i=t.canvas.width/$t.scale;t.fillStyle="rgb(55, 105, 230)",t.globalAlpha=.5,t.fillRect(r,e,i,150),t.globalAlpha=1,t.fillRect(r,e,i,3),t.restore()}function kn(){let{ctx:t,sprites:e}=L.render,{bg:r,ground:i}=e;if(!L.localState)return;L.render.timeStamp=L.localState.meta.timeStamp,t.imageSmoothingQuality="high",t.save();let s=1.8;t.drawImage(i,0,0,i.width*s,i.height*s),t.globalCompositeOperation="destination-out",L.localState.holes.forEach(a=>{t.beginPath(),t.arc(a.cx,a.cy,a.r,0,Math.PI*2),t.fill()}),t.free=!0,t.globalCompositeOperation="destination-over",t.filter="blur(4px)",t.drawImage(r,-300,0,t.canvas.width*1.3,t.canvas.height*1.3),t.filter="blur(0)",t.free=!1,t.restore();for(let a of L.localState.characters){a.direction||(t.flippedX=!0);let l;switch(a.visual.anim.spriteName){case"rabbitGo":case"rabbitBreath":l=20;break;case"rabbitPrepareToJump":l=13;break;case"rabbitJump":l=13;break;case"rabbitJumpBack":l=23;break}let h;a.visual.anim.spriteName==="rabbitJumpBack"?h=a.direction?-53:65:h=a.direction?-25:39,gr(a.visual,a.colX+h,a.colY-l,.32),t.flippedX=!1}L.localState.weaponBoxes.forEach(a=>{gr({anim:Ae.weaponBox,startTime:a.creationTime},a.colX-15,a.colY-15,.4*.6)}),Dn(),Ln()}function In(t){let{ctx:e}=L.render;if(L.debug.polygons){e.save(),e.strokeStyle="YellowGreen";for(let i of L.debug.polygons){e.beginPath(),e.moveTo(i[0].x,i[0].y);for(let s of i)e.lineTo(s.x,s.y);e.stroke()}e.strokeStyle="red";for(let i of L.debug.polygonsBBoxes)e.strokeRect(i.xmin,i.ymin,i.xmax-i.xmin,i.ymax-i.ymin);e.restore()}e.strokeStyle="#00ffd0";for(let{colX:i,colY:s,colWidth:a,colHeight:l}of L.localState.characters??[])e.strokeRect(i,s,a,l);for(let{colX:i,colY:s,colWidth:a,colHeight:l}of L.localState.weaponBoxes??[])e.strokeRect(i,s,a,l);e.save(),e.free=!0,e.fillStyle="rgba(0, 0, 0, .5)",e.fillRect(8,10,54,30);let r=Math.round(1e3/t);e.font="30px 'Share Tech Mono', monospace",e.fillStyle="yellow",e.fillText(String(r),10,35),e.free=!1,e.restore()}var mt=document.querySelector("canvas");if(mt===null)throw new Error;L.render.ctx=new Fi(mt.getContext("2d"));var Mn=0;function $n(t){L.render.sprites=t,window.requestAnimationFrame(function e(r){L.render.ctx.clearRect(0,0,mt.width,mt.height);let i=r-Mn;Mn=r,kn(),L.debug.debugMode&&In(i),window.requestAnimationFrame(e)})}var Bn=()=>{let{width:t,height:e}=mt.getBoundingClientRect();mt.width=Math.floor(t),mt.height=Math.floor(e)};Bn();setInterval(Bn,1e3);var Yi=[{spriteName:"rabbitPrepareToJump",path:"./wormix/atlas_rabbitPrepareToJump_5x_lossless.png"},{spriteName:"rabbitJumpBack",path:"./wormix/atlas_rabbitJumpBack_5x_lossless.png"},{spriteName:"rabbitJump",path:"./wormix/atlas_rabbitJump_5x_lossless.png"},{spriteName:"rabbitGo",path:"./wormix/atlas_rabbitGo_5x_lossless.png"},{spriteName:"bubbles",path:"./wormix/atlas_bubbles_1x_lossy.png"},{spriteName:"rabbitBreath",path:"./wormix/atlas_rabbitBreath_5x_lossless.png"},{spriteName:"weaponBox",path:"./wormix/WeaponBox_lossy.png"}];var{camera:Oe}=L,Ie=document.querySelector("canvas");if(Ie===null)throw new Error("\u0430 \u0433\u0434\u0435?");var qi=(t=0,e=0)=>{let{render:r}=L,i=r.sprites.ground.width*r.groundScaleFactor*Oe.scale,s=(r.sprites.ground.height*r.groundScaleFactor-9)*Oe.scale,a=250,l=350;Oe.offsetX=Ie.width>=i+a*2?(Ie.width-i)/2:vt(Oe.offsetX+t,-i-a+Ie.width,a),Oe.offsetY=Ie.height>=s+l?Ie.height-s:vt(Oe.offsetY+e,-s+Ie.height,l)};Ie.addEventListener("mousedown",function(t){if(t.button!==0)return;let e=r=>{qi(r.movementX,r.movementY)};this.addEventListener("mousemove",e),this.addEventListener("mouseup",function r(){this.removeEventListener("mousemove",e),this.removeEventListener("mouseup",r)})});Ie.addEventListener("wheel",t=>{t.preventDefault();let e=.125;Oe.scale=vt(Oe.scale+e*Math.sign(-t.deltaY),Oe.initialScale-e*4,Oe.initialScale+e*2),qi()});setInterval(qi,25);var Me=new Array;document.addEventListener("keydown",t=>{switch(t.code){case"KeyA":case"KeyD":Me.includes(t.code)===!1&&Me.push(t.code);break;case"KeyF":case"KeyR":L.worker.postMessage({method:"startJumping",params:{direction:t.code==="KeyF"?"FORWARD":"BACKWARD"}});break}});document.addEventListener("keyup",t=>{switch(t.code){case"KeyA":case"KeyD":for(let e=0;e<Me.length;e++)if(Me[e]===t.code){Me.splice(e,1);break}Me.length===0&&L.worker.postMessage({method:"stopMoving"});break}});window.addEventListener("blur",()=>{Me.length=0,L.worker.postMessage({method:"stopMoving"})});setInterval(()=>{Me.length>0&&L.worker.postMessage({method:"startMoving",params:{direction:Me[0]==="KeyA"}})},20);var{camera:Qr}=L,zi=document.querySelector("canvas");if(zi===null)throw new Error("\u0430 \u0433\u0434\u0435?");zi.addEventListener("contextmenu",t=>{t.preventDefault()});zi.addEventListener("mousedown",function(t){if(t.button!==2)return;let e=r=>{L.worker.postMessage({method:"makeHole",params:{cx:(r.offsetX-Qr.offsetX)/Qr.scale,cy:(r.offsetY-Qr.offsetY)/Qr.scale}})};this.addEventListener("mousemove",e),this.addEventListener("mouseup",function r(){this.removeEventListener("mousemove",e),this.removeEventListener("mouseup",r)})});document.addEventListener("keydown",t=>{t.code==="F2"&&(t.preventDefault(),L.debug.debugMode=!L.debug.debugMode)});var Hn={};try{(await Wn(Yi)).forEach((t,e)=>{Hn[Yi[e].spriteName]=t})}catch{alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0430\u0441\u0441\u0435\u0442\u043E\u0432.")}var Kh="treesRewamp",Yh=await Qh(Kh),{camera:Iy}=L;$n({...Hn,...Yh});L.worker=new Worker("./worker.js");var jn;var Bt=new ki(document.getElementById("staticBackdrop"));Bt.display(`
    <label for="exampleInputEmail1" class="form-label">\u041D\u0438\u043A\u043D\u0435\u0439\u043C</label>
    <input type="email" class="form-control" value="${eo()}" id="exampleInputEmail1" aria-describedby="emailHelp">
`,"\u0414\u0430\u043B\u0435\u0435",qh);function qh(){jn=document.querySelector(".modal-body input").value,Bt.onhidden=()=>{Bt.display(`
            <h3>\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435</h3>
            <ul>
                <li><b>\u041F\u0440\u0430\u0432\u0430\u044F \u043A\u043D\u043E\u043F\u043A\u0430 \u043C\u044B\u0448\u0438</b> \u2014 \u0434\u0432\u0438\u0433\u0430\u0442\u044C \u043A\u0430\u043C\u0435\u0440\u0443;</li>
                <li><b>\u041B\u0435\u0432\u0430\u044F \u043A\u043D\u043E\u043F\u043A\u0430 \u043C\u044B\u0448\u0438</b> \u2014 \u0440\u0430\u0437\u0440\u0443\u0448\u0438\u0442\u044C \u0442\u0435\u0440\u0440\u0435\u0439\u043D;</li>
                <li><b>\u041A\u043E\u043B\u0435\u0441\u0438\u043A\u043E \u043C\u044B\u0448\u0438</b> \u2014 \u043F\u0440\u0438\u0431\u043B\u0438\u0437\u0438\u0442\u044C/\u043E\u0442\u0434\u0430\u043B\u0438\u0442\u044C \u043A\u0430\u043C\u0435\u0440\u0443;</li>
                <li><b>F2</b> \u2014 \u043F\u043E\u043A\u0430\u0437\u0430\u0442\u044C/\u0441\u043A\u0440\u044B\u0442\u044C \u043E\u0442\u043B\u0430\u0434\u043E\u0447\u043D\u0443\u044E \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044E;</li>
                <li><b>A</b> \u2014 \u0431\u0435\u0433 \u0432\u043B\u0435\u0432\u043E;</li>
                <li><b>D</b> \u2014 \u0431\u0435\u0433 \u0432\u043F\u0440\u0430\u0432\u043E;</li>
                <li><b>F</b> \u2014 \u043F\u0440\u044B\u0436\u043E\u043A \u0432\u043F\u0435\u0440\u0435\u0434;</li>
                <li><b>R</b> \u2014 \u043F\u0440\u044B\u0436\u043E\u043A \u043D\u0430\u0437\u0430\u0434.</li>
            </ul>
        `,"\u041F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u044C\u0441\u044F",zh,!0)},Bt.hide()}function zh(){Bt.hide(),Gh()}function Gh(){L.worker.postMessage({method:"join",params:{nickname:jn}}),L.worker.onmessage=t=>{let{data:e}=t;switch(e.type){case"fullSnapshot":L.localState=e.data;break;case"patch":L.localState!==void 0&&Xh(L.localState,e.data);break;case"kick":Bt.display(e.data,"",null,!1);break;case"debug":L.debug.polygons=e.data,L.debug.polygonsBBoxes=[];for(let r of L.debug.polygons)L.debug.polygonsBBoxes.push(Jh(r));break}}}function Xh(t,e){for(let{type:r,path:i,value:s}of e)switch(r){case"CREATE":let a=Gr(t,i.slice(0,-1)),l=i[i.length-1];we(a)?a.push(s):a[l]=s;break;case"CHANGE":Hi(t,i,s);break;case"REMOVE":{let h=Gr(t,i.slice(0,-1)),_=i[i.length-1];we(h)?h.splice(_,1):delete h[_]}break}}function Jh(t){let e=Math.min(...t.map(a=>a.x)),r=Math.min(...t.map(a=>a.y)),i=Math.max(...t.map(a=>a.x)),s=Math.max(...t.map(a=>a.y));return{xmin:e,ymin:r,xmax:i,ymax:s}}async function Qh(t){let e={},r=[{spriteName:"ground",path:`./wormix/levels/${t}/ground.svg`},{spriteName:"bg",path:`./wormix/levels/${t}/bg.svg`}];try{(await Wn(r)).forEach((i,s)=>{e[r[s].spriteName]=i})}catch{alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0430\u0441\u0441\u0435\u0442\u043E\u0432.")}return e}function Wn(t){return Promise.all(t.map(e=>new Promise((r,i)=>{let s=document.createElement("img");s.onload=()=>{r(s)},s.onerror=()=>{i()},s.src=e.path})))}
/*!
  * Bootstrap v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
